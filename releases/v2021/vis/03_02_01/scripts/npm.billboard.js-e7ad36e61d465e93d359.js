(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Entt:function(t,e,i){},K7VU:function(t,e,i){var n;window,n=function(t,e,i,n,a,r,o,s,l,c,u,d,f,g){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";e.__esModule=!0,e.bb=void 0;var n=o(i(1)),a=o(i(3)),r=o(i(8));function o(t){return t&&t.__esModule?t:{default:t}}i(15);var s={version:"1.6.2",generate:function(t){var e=new n.default(t);return e.internal.charts=this.instance,this.instance.push(e),e},instance:[],chart:{fn:n.default.prototype,internal:{fn:a.default.prototype,axis:{fn:r.default.prototype}}}};i(17),i(19),i(20),i(21),i(23),i(25),i(26),i(27),i(29),i(30),i(32),i(34),i(35),i(36),i(37),i(38),i(39),i(40),i(41),i(42),i(43),i(44),i(45),i(46),i(47),i(48),i(50),i(51),i(53),i(54),i(55),i(56),i(57),i(58),i(59),i(60),i(61),i(63),i(64),i(65),i(66),i(67),i(68),i(69),i(70),i(71),i(72),i(73),i(74),i(76),i(9),i(77),i(78),e.bb=s,e.default=s},function(t,e,i){"use strict";e.__esModule=!0;var n=r(i(2)),a=r(i(3));function r(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){(0,n.default)(this,t);var i=new a.default(this);this.internal=i,i.loadConfig(e),i.beforeInit(e),i.init(),this.$=i.getChartElements(),i.afterInit(e),function t(e,i,n){Object.keys(e).forEach(function(a){i[a]=e[a].bind(n),Object.keys(e[a]).length&&t(e[a],i[a],n)})}(t.prototype,this,this)},t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,i){"use strict";e.__esModule=!0;var n=d(i(2)),a=i(4),r=i(5),o=i(6),s=i(7),l=d(i(8)),c=d(i(14)),u=i(11);function d(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e){(0,n.default)(this,t);var i=this;i.api=e,i.config=i.getOptions(),i.data={},i.cache={},i.axes={}}return t.prototype.beforeInit=function(){var t=this.config;(0,u.callFn)(t.onbeforeinit,this)},t.prototype.afterInit=function(){var t=this.config;(0,u.callFn)(t.onafterinit,this)},t.prototype.init=function(){var t=this,e=t.config,i=void 0;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)i=t.convertJsonToData(e.data_json,e.data_keys);else if(e.data_rows)i=t.convertRowsToData(e.data_rows);else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");i=t.convertColumnsToData(e.data_columns)}i&&t.initWithData(i)},t.prototype.initParams=function(){var t=this,e=t.config,i=e.axis_rotated;t.datetimeId="bb-"+ +new Date,t.clipId=t.datetimeId+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.point=t.generatePoint(),t.extraLineClasses=t.generateExtraLineClass(),t.dataTimeFormat=e.data_xLocaltime?a.timeParse:a.utcParse,t.axisTimeFormat=e.axis_x_localtime?a.timeFormat:a.utcFormat,t.defaultAxisTimeFormat=function(e){var i=(e.getMilliseconds()?".%L":e.getSeconds()&&".:%S")||e.getMinutes()&&"%I:%M"||e.getHours()&&"%I %p"||e.getDay()&&1!==e.getDate()&&"%-m/%-d"||1!==e.getDate()&&"%b %d"||e.getMonth()&&"%-m/%-d"||"%Y/%-m/%-d";return t.axisTimeFormat(i)(e)},t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=i?"left":"bottom",t.yOrient=i?e.axis_y_inner?"top":"bottom":e.axis_y_inner?"right":"left",t.y2Orient=i?e.axis_y2_inner?"bottom":"top":e.axis_y2_inner?"left":"right",t.subXOrient=i?"left":"bottom",t.isLegendRight="right"===e.legend_position,t.isLegendInset="inset"===e.legend_position,t.isLegendTop="top-left"===e.legend_inset_anchor||"top-right"===e.legend_inset_anchor,t.isLegendLeft="top-left"===e.legend_inset_anchor||"bottom-left"===e.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=i&&!e.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.inputType=t.convertInputType(),t.axes.subx=(0,r.selectAll)([])},t.prototype.initWithData=function(t){var e=this,i=e.config;e.axis=new l.default(e),i.subchart_show&&e.initBrush(),i.zoom_enabled&&(e.initZoom(),e.initZoomBehaviour());var n={element:i.bindto,classname:"bb"};if((0,u.isObject)(i.bindto)&&(n.element=i.bindto.element||"#chart",n.classname=i.bindto.classname||n.classname),e.selectChart=(0,u.isFunction)(n.element.node)?i.bindto.element:(0,r.select)(n.element?n.element:[]),e.selectChart.html("").classed(n.classname,!0),e.data.xs={},e.data.targets=e.convertDataToTargets(t),i.data_filter&&(e.data.targets=e.data.targets.filter(i.data_filter)),i.data_hide&&e.addHiddenTargetIds(!0===i.data_hide?e.mapToIds(e.data.targets):i.data_hide),i.legend_hide&&e.addHiddenLegendIds(!0===i.legend_hide?e.mapToIds(e.data.targets):i.legend_hide),e.hasType("gauge")&&(i.legend_show=!1),e.updateSizes(),e.updateScales(),e.x.domain((0,o.extent)(e.getXDomain(e.data.targets))),e.y.domain(e.getYDomain(e.data.targets,"y")),e.y2.domain(e.getYDomain(e.data.targets,"y2")),e.subX.domain(e.x.domain()),e.subY.domain(e.y.domain()),e.subY2.domain(e.y2.domain()),e.orgXDomain=e.x.domain(),e.svg=e.selectChart.append("svg").style("overflow","hidden").style("display","block"),i.interaction_enabled&&e.inputType){var a="touch"===e.inputType;e.svg.on(a?"touchstart":"mouseenter",function(){return(0,u.callFn)(i.onover,e)}).on(a?"touchend":"mouseleave",function(){return(0,u.callFn)(i.onout,e)})}i.svg_classname&&e.svg.attr("class",i.svg_classname),e.defs=e.svg.append("defs"),e.clipChart=e.appendClip(e.defs,e.clipId),e.clipXAxis=e.appendClip(e.defs,e.clipIdForXAxis),e.clipYAxis=e.appendClip(e.defs,e.clipIdForYAxis),e.clipGrid=e.appendClip(e.defs,e.clipIdForGrid),e.clipSubchart=e.appendClip(e.defs,e.clipIdForSubchart),(0,u.isFunction)(i.color_tiles)&&e.patterns&&e.patterns.forEach(function(t){return e.defs.append(function(){return t.node})}),e.updateSvgSize();var s=e.svg.append("g").attr("transform",e.getTranslate("main"));if(e.main=s,i.subchart_show&&e.initSubchart&&e.initSubchart(),e.initTooltip&&e.initTooltip(),e.initLegend&&e.initLegend(),e.initTitle&&e.initTitle(),s.append("text").attr("class",c.default.text+" "+c.default.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),e.initRegion(),e.initGrid(),i.clipPath||e.axis.init(),s.append("g").attr("class",c.default.chart).attr("clip-path",e.clipPath),i.grid_lines_front&&e.initGridLines(),i.grid_front&&e.initXYFocusGrid(),e.initEventRect(),e.initChartElements(),s.insert("rect",i.zoom_privileged?null:"g."+c.default.regions).attr("class",c.default.zoomRect).attr("width",e.width).attr("height",e.height).style("opacity","0").on("dblclick.zoom",null),i.axis_x_extent&&e.brush.scale(e.getDefaultExtent()),i.clipPath&&e.axis.init(),e.updateTargets(e.data.targets),e.updateDimension(),i.oninit.call(e),e.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1,initializing:!0}),i.data_onmin||i.data_onmax){var d=e.getMinMaxData();(0,u.callFn)(i.data_onmin,e,d.min),(0,u.callFn)(i.data_onmax,e,d.max)}e.bindResize(),e.api.element=e.selectChart.node()},t.prototype.initChartElements=function(){var t=this;["Pie","Bar","Line","Arc","Gauge","Bubble","Radar","Text"].forEach(function(e){var i="init"+e;t[i]&&t[i]()})},t.prototype.getChartElements=function(){var t=this;return{chart:t.selectChart,svg:t.svg,defs:t.defs,main:t.main,tooltip:t.tooltip,legend:t.legend,title:t.title,grid:t.grid,arc:t.arcs,bar:{bars:t.mainBar},line:{lines:t.mainLine,areas:t.mainArea,circles:t.mainCircle},text:{texts:t.texts}}},t.prototype.smoothLines=function(t,e){"grid"===e&&t.each(function(){var t=(0,r.select)(this),e=["x1","x2","y1","y2"].map(function(e){return Math.ceil(t.attr(e))}),i=e[0],n=e[1],a=e[2],o=e[3];t.attr({x1:i,x2:n,y1:a,y2:o})})},t.prototype.updateSizes=function(){var t=this,e=t.config,i=e.axis_rotated,n=t.hasArcType(),a=t.legend?t.getLegendHeight():0,r=t.legend?t.getLegendWidth():0,o=t.isLegendRight||t.isLegendInset?0:a,s=i||n?0:t.getHorizontalAxisHeight("x"),l=e.subchart_show&&!n?e.subchart_size_height+s:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=i?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:n?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+o+t.getCurrentPaddingBottom(),left:l+(n?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:n?0:t.getCurrentPaddingRight(),bottom:s+l+o+t.getCurrentPaddingBottom(),left:n?0:t.getCurrentPaddingLeft()},t.margin2=i?{top:t.margin.top,right:NaN,bottom:20+o,left:t.rotated_padding_left}:{top:t.currentHeight-l-o,right:NaN,bottom:s+o,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(a,r),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=i?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=i?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?r+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&n&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},t.prototype.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType(t)&&(e.hasType("radar")?e.updateTargetsForRadar(t):e.updateTargetsForArc(t)),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},t.prototype.showTargets=function(){var t=this;t.svg.selectAll("."+c.default.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity","1")},t.prototype.getWithOption=function(t){var e={Y:!0,Subchart:!0,Transition:!0,EventRect:!0,Dimension:!0,TrimXDomain:!0,Transform:!1,UpdateXDomain:!1,UpdateOrgXDomain:!1,Legend:!1,UpdateXAxis:"UpdateXDomain",TransitionForExit:"Transition",TransitionForAxis:"Transition"};return Object.keys(e).forEach(function(i){var n=e[i];(0,u.isString)(n)&&(n=e[n]),e[i]=(0,u.getOption)(t,"with"+i,n)}),e},t.prototype.redraw=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],i=this,n=i.main,a=i.config,o=a.axis_rotated,l=i.hasType("radar"),d=i.getShapeIndices(i.isAreaType),f=i.getShapeIndices(i.isBarType),g=i.getShapeIndices(i.isLineType),h=i.hasArcType(),p=i.filterTargetsToShow(i.data.targets),x=i.xv.bind(i),v=void 0,m=void 0,_=void 0,y=i.getWithOption(t),b=y.Transition?a.transition_duration:0,T=y.TransitionForExit?b:0,A=y.TransitionForAxis?b:0,w=e||i.axis.generateTransitions(A);if(t.initializing&&a.tooltip_init_show||"touch"!==i.inputType||i.hideTooltip(),y.Legend&&a.legend_show&&!a.legend_contents_bindto?i.updateLegend(i.mapToIds(i.data.targets),t,w):y.Dimension&&i.updateDimension(!0),i.isCategorized()&&0===p.length&&i.x.domain([0,i.axes.x.selectAll(".tick").size()]),p.length?(i.updateXDomain(p,y.UpdateXDomain,y.UpdateOrgXDomain,y.TrimXDomain),!a.axis_x_tick_values&&(v=i.axis.updateXAxisTickValues(p))):(i.xAxis.tickValues([]),i.subXAxis.tickValues([])),a.zoom_rescale&&!t.flow&&(_=i.x.orgDomain()),["y","y2"].forEach(function(t){var e=i[t],n=a["axis_"+t+"_tick_values"],r=a["axis_"+t+"_tick_count"];if(e.domain(i.getYDomain(p,t,_)),!n&&r){var o=e.domain();i[t+"Axis"].tickValues(i.axis.generateTickValues(o,o.every(function(t){return 0===t})?1:r,i.isTimeSeriesY()))}}),i.axis.redraw(w,h),i.axis.updateLabels(y.Transition),(y.UpdateXDomain||y.UpdateXAxis)&&p.length)if(a.axis_x_tick_culling&&v){for(var S=1;S<v.length;S++)if(v.length/S<a.axis_x_tick_culling_max){m=S;break}i.svg.selectAll("."+c.default.axisX+" .tick text").each(function(t){var e=v.indexOf(t);e>=0&&(0,r.select)(this).style("display",e%m?"none":"block")})}else i.svg.selectAll("."+c.default.axisX+" .tick text").style("display","block");var L=i.generateDrawArea?i.generateDrawArea(d,!1):void 0,C=i.generateDrawBar?i.generateDrawBar(f):void 0,D=i.generateDrawLine?i.generateDrawLine(g,!1):void 0,F=i.generateXYForText(d,f,g,!0),X=i.generateXYForText(d,f,g,!1);y.Y&&(i.subY.domain(i.getYDomain(p,"y")),i.subY2.domain(i.getYDomain(p,"y2"))),i.updateXgridFocus(),n.select("text."+c.default.text+"."+c.default.empty).attr("x",i.width/2).attr("y",i.height/2).text(a.data_empty_label_text).transition().style("opacity",p.length?0:1),i.updateGrid(b),i.updateRegion(b),i.updateBar(T),i.updateLine(T),i.updateArea(T),i.updateCircle(),i.hasDataLabel()&&i.updateText(T),i.redrawTitle&&i.redrawTitle(),i.redrawArc&&i.redrawArc(b,T,y.Transform),l&&i.redrawRadar(b,T),a.subchart_show&&i.redrawSubchart&&i.redrawSubchart(y.Subchart,w,b,T,d,f,g),n.selectAll("."+c.default.selectedCircles).filter(i.isBarType.bind(i)).selectAll("circle").remove(),a.interaction_enabled&&!t.flow&&y.EventRect&&(i.redrawEventRect(),i.bindZoomEvent()),i.updateCircleY();var M=(l?i.radarCircleX:o?i.circleY:i.circleX).bind(i),R=(l?i.radarCircleY:o?i.circleX:i.circleY).bind(i),k=t.flow&&i.generateFlow({targets:p,flow:t.flow,duration:t.flow.duration,drawBar:C,drawLine:D,drawArea:L,cx:M,cy:R,xv:x,xForText:F,yForText:X}),E=(b||k)&&i.isTabVisible(),I=[i.redrawBar(C,E),i.redrawLine(D,E),i.redrawArea(L,E),i.redrawCircle(M,R,E,k),i.redrawText(F,X,t.flow,E),i.redrawRegion(E),i.redrawGrid(E)],O=k||a.onrendered?function(){k&&k(),(0,u.callFn)(a.onrendered,i)}:null;if(O)if(E){var B=i.generateWait();(0,s.transition)().duration(b).each(function(){I.reduce(function(t,e){return t.concat(e)},[]).forEach(function(t){return B.add(t)})}).call(B,O)}else O();i.mapToIds(i.data.targets).forEach(function(t){i.withoutFadeIn[t]=!0})},t.prototype.updateAndRedraw=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,i=e.config,n=void 0;t.withTransition=(0,u.getOption)(t,"withTransition",!0),t.withTransform=(0,u.getOption)(t,"withTransform",!1),t.withLegend=(0,u.getOption)(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=(0,u.getOption)(t,"withTransitionForTransform",t.withTransition),e.updateSizes(),t.withLegend&&i.legend_show||(n=e.axis.generateTransitions(t.withTransitionForAxis?i.transition_duration:0),e.updateScales(),e.updateSvgSize(),e.transformAll(t.withTransitionForTransform,n)),e.redraw(t,n)},t.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},t.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},t.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("category")>=0||this.hasType("radar")},t.prototype.isCustomX=function(){var t=this.config;return!this.isTimeSeries()&&(t.data_x||(0,u.notEmpty)(t.data_xs))},t.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},t.prototype.getTranslate=function(t){var e=this,i=e.config.axis_rotated,n=void 0,a=void 0;if("main"===t)n=(0,u.asHalfPixel)(e.margin.left),a=(0,u.asHalfPixel)(e.margin.top);else if("context"===t)n=(0,u.asHalfPixel)(e.margin2.left),a=(0,u.asHalfPixel)(e.margin2.top);else if("legend"===t)n=e.margin3.left,a=e.margin3.top;else if("x"===t)n=0,a=i?0:e.height;else if("y"===t)n=0,a=i?e.height:0;else if("y2"===t)n=i?0:e.width,a=i?1:0;else if("subx"===t)n=0,a=i?0:e.height2;else if("arc"===t)n=e.arcWidth/2,a=e.arcHeight/2;else if("radar"===t){var r=(e.arcWidth-e.arcHeight)/2;n=Math.max(r,0)+4,a=r<0?Math.abs(r):(0,u.asHalfPixel)(e.margin.top)}return"translate("+n+", "+a+")"},t.prototype.initialOpacity=function(t){return null!==this.getBaseValue(t)&&this.withoutFadeIn[t.id]?"1":"0"},t.prototype.initialOpacityForCircle=function(t){return null!==this.getBaseValue(t)&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):"0"},t.prototype.opacityForCircle=function(t){var e=this.config.point_show?"1":"0";return(0,u.isValue)(this.getBaseValue(t))?this.isBubbleType(t)||this.isScatterType(t)?"0.5":e:"0"},t.prototype.opacityForText=function(){return this.hasDataLabel()?"1":"0"},t.prototype.xx=function(t){var e=this.config.zoom_enabled&&this.zoomScale?this.zoomScale:this.x;return t?e(t.x):null},t.prototype.xv=function(t){var e=this,i=e.getBaseValue(t);return e.isTimeSeries()?i=e.parseDate(i):e.isCategorized()&&(0,u.isString)(i)&&(i=e.config.axis_x_categories.indexOf(i)),Math.ceil(e.x(i))},t.prototype.yv=function(t){var e=t.axis&&"y2"===t.axis?this.y2:this.y;return Math.ceil(e(this.getBaseValue(t)))},t.prototype.subxx=function(t){return t?this.subX(t.x):null},t.prototype.transformMain=function(t,e){var i=this,n=void 0,a=void 0,r=void 0;e&&e.axisX?n=e.axisX:(n=i.main.select("."+c.default.axisX),t&&(n=n.transition())),e&&e.axisY?a=e.axisY:(a=i.main.select("."+c.default.axisY),t&&(a=a.transition())),e&&e.axisY2?r=e.axisY2:(r=i.main.select("."+c.default.axisY2),t&&(r=r.transition())),(t?i.main.transition():i.main).attr("transform",i.getTranslate("main")),n.attr("transform",i.getTranslate("x")),a.attr("transform",i.getTranslate("y")),r.attr("transform",i.getTranslate("y2")),i.main.select("."+c.default.chartArcs).attr("transform",i.getTranslate("arc"))},t.prototype.transformAll=function(t,e){var i=this;i.transformMain(t,e),i.config.subchart_show&&i.transformContext(t,e),i.legend&&i.transformLegend(t)},t.prototype.updateSvgSize=function(){var t=this,e=t.svg.select("."+c.default.brush+" .overlay"),i=e.size()?e.attr("height"):0;t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",i),t.svg.select("."+c.default.zoomRect).attr("width",t.width).attr("height",t.height),t.brush&&t.brush.scale(t.subX,i)},t.prototype.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(t),e.updateSvgSize(),e.transformAll(!1)},t.prototype.bindResize=function(){var t=this,e=t.config;t.resizeFunction=t.generateResize(),t.resizeFunction.add(function(){return e.onresize.call(t)}),e.resize_auto&&t.resizeFunction.add(function(){t.resizeTimeout&&(window.clearTimeout(t.resizeTimeout),t.resizeTimeout=null),t.resizeTimeout=window.setTimeout(t.api.flush,100)}),t.resizeFunction.add(function(){return e.onresized.call(t)}),window.addEventListener("resize",t.resizeFunction)},t.prototype.generateResize=function(){function t(){e.forEach(function(t){return t()})}var e=[];return t.add=function(t){return e.push(t)},t.remove=function(t){return e.splice(e.indexOf(t),1)},t},t.prototype.endall=function(t,e){var i=0;t.each(function(){return++i}).on("end",function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];--i||e.apply.apply(e,[this].concat(n))})},t.prototype.generateWait=function(){var t=[],e=function(e,i){var n=void 0;!function e(){var a=0;t.forEach(function(t){if(t.empty())a++;else try{t.transition()}catch(t){a++}}),n&&clearTimeout(n),a===t.length?i&&i():n=setTimeout(e,50)}()};return e.add=function(e){(0,u.isArray)(e)?t=t.concat(e):t.push(e)},e},t.prototype.parseDate=function(t){var e=void 0;return t instanceof Date?e=t:(0,u.isString)(t)?e=this.dataTimeFormat(this.config.data_xFormat)(t):(0,u.isNumber)(t)&&!isNaN(t)&&(e=new Date(+t)),(!e||isNaN(+e))&&console&&console.error&&console.error("Failed to parse x '"+t+"' to Date object"),e},t.prototype.isTabVisible=function(){return!document[["hidden","mozHidden","msHidden","webkitHidden"].filter(function(t){return t in document})[0]]},t.prototype.convertInputType=function(){var t=this.config,e=this.isMobile(),i=t.interaction_inputType_mouse&&!e&&"onmouseover"in window,n=!1;return t.interaction_inputType_touch&&(n="ontouchmove"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),(i?"mouse":n&&"touch")||null},t}();e.default=f,t.exports=e.default},function(e,i){e.exports=t},function(t,i){t.exports=e},function(t,e){t.exports=i},function(t,e){t.exports=n},function(t,e,i){"use strict";e.__esModule=!0;var n=s(i(2)),a=s(i(9)),r=s(i(14)),o=i(11);function s(t){return t&&t.__esModule?t:{default:t}}var l=function(t,e){var i=t.config.axis_rotated;return e?i:!i},c=function(){function t(e){(0,n.default)(this,t),this.owner=e}return t.prototype.init=function(){var t=this,e=this.owner,i=e.config,n=i.axis_rotated,a=e.main;["x","y","y2"].forEach(function(s){var l="axis"+(0,o.capitalize)(s),c=r.default.axis+" "+r.default[l],u=r.default[l+"Label"];e.axes[s]=a.append("g").attr("class",c).attr("clip-path",function(){var t=null;return"x"===s?t=e.clipPathForXAxis:"y"===s&&i.axis_y_inner&&(t=e.clipPathForYAxis),t}).attr("transform",e.getTranslate(s)).style("visibility",i["axis_"+s+"_show"]?"visible":"hidden"),e.axes[s].append("text").attr("class",u).attr("transform",["rotate(-90)",null]["x"===s?+!n:+n]).style("text-anchor",t.textAnchorForXAxisLabel.bind(t))})},t.prototype.getXAxis=function(t,e,i,n,r,s,l,c){var u=this.owner,d=u.config,f=u.isCategorized(),g={isCategory:f,withOuterTick:s,withoutTransition:l,config:d,axisName:t,tickMultiline:d.axis_x_tick_multiline,tickWidth:d.axis_x_tick_width,tickTextRotate:c?0:d.axis_x_tick_rotate,tickTitle:f&&d.axis_x_tick_tooltip&&u.api.categories(),orgXScale:u.x},h=(0,a.default)(g).scale(u.zoomScale||e).orient(i),p=r;return u.isTimeSeries()&&r&&!(0,o.isFunction)(r)&&(p=r.map(function(t){return u.parseDate(t)})),h.tickFormat(n).tickValues(p),f&&(h.tickCentered(d.axis_x_tick_centered),(0,o.isEmpty)(d.axis_x_tick_culling)&&(d.axis_x_tick_culling=!1)),h},t.prototype.getYAxis=function(t,e,i,n,r,o,s,l){var c=this.owner,u=c.config,d={withOuterTick:o,withoutTransition:s,config:u,axisName:t,tickTextRotate:l?0:u.axis_y_tick_rotate},f=(0,a.default)(d).scale(e).orient(i).tickFormat(n);return c.isTimeSeriesY()?f.ticks(u.axis_y_tick_time_value):f.tickValues(r),f},t.prototype.updateXAxisTickValues=function(t,e){var i=this.owner,n=i.config,a=n.axis_x_tick_count,r=void 0;return(n.axis_x_tick_fit||a)&&(r=this.generateTickValues(i.mapTargetsToUniqueXs(t),a,i.isTimeSeries())),e?e.tickValues(r):(i.xAxis.tickValues(r),i.subXAxis.tickValues(r)),r},t.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},t.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config.axis_x_tick_format,i=t.isTimeSeries(),n=t.isCategorized(),a=void 0;return e?(0,o.isFunction)(e)?a=e:i&&(a=function(i){return i?t.axisTimeFormat(e)(i):""}):a=i?t.defaultAxisTimeFormat:n?t.categoryName:function(t){return t<0?t.toFixed(0):t},(0,o.isFunction)(a)?function(e){return a.apply(t,n?[e,t.categoryName(e)]:[e])}:a},t.prototype.getTickValues=function(t){var e=this.owner,i=e.config["axis_"+t+"_tick_values"],n=e[t+"Axis"];return i||(n?n.tickValues():void 0)},t.prototype.getXAxisTickValues=function(){return this.getTickValues("x")},t.prototype.getYAxisTickValues=function(){return this.getTickValues("y")},t.prototype.getY2AxisTickValues=function(){return this.getTickValues("y2")},t.prototype.getLabelOptionByAxisId=function(t){return this.owner.config["axis_"+t+"_label"]},t.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return(0,o.isString)(e)?e:e?e.text:null},t.prototype.setLabelText=function(t,e){var i=this.owner.config,n=this.getLabelOptionByAxisId(t);(0,o.isString)(n)?i["axis_"+t+"_label"]=e:n&&(n.text=e)},t.prototype.getLabelPosition=function(t,e){var i=this.owner.config.axis_rotated,n=this.getLabelOptionByAxisId(t),a=(0,o.isObjectType)(n)&&n.position?n.position:e[+!i],r=function(t){return!!~a.indexOf(t)};return{isInner:r("inner"),isOuter:r("outer"),isLeft:r("left"),isCenter:r("center"),isRight:r("right"),isTop:r("top"),isMiddle:r("middle"),isBottom:r("bottom")}},t.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",["inner-top","inner-right"])},t.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",["inner-right","inner-top"])},t.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",["inner-right","inner-top"])},t.prototype.getLabelPositionById=function(t){return this["get"+t.toUpperCase()+"AxisLabelPosition"]()},t.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},t.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},t.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},t.prototype.xForAxisLabel=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.owner,n=t.isMiddle?-i.height/2:0;return l(i,e)?n=t.isLeft?0:t.isCenter?i.width/2:i.width:t.isBottom&&(n=-i.height),n},t.prototype.dxForAxisLabel=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.owner,n=t.isBottom?"0.5em":"0";return l(i,e)?n=t.isLeft?"0.5em":t.isRight?"-0.5em":"0":t.isTop&&(n="-0.5em"),n},t.prototype.textAnchorForAxisLabel=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.owner,n=t.isMiddle?"middle":"end";return l(i,e)?n=t.isLeft?"start":t.isCenter?"middle":"end":t.isBottom&&(n="start"),n},t.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(this.getXAxisLabelPosition(),!1)},t.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.getYAxisLabelPosition())},t.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.getY2AxisLabelPosition())},t.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(this.getXAxisLabelPosition(),!1)},t.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.getYAxisLabelPosition())},t.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.getY2AxisLabelPosition())},t.prototype.dyForXAxisLabel=function(){var t=this.owner.config,e=this.getXAxisLabelPosition().isInner,i=t.axis_x_height;return t.axis_rotated?e?"1.2em":-25-this.getMaxTickWidth("x"):e?"-0.5em":i?i-10:"3em"},t.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition().isInner;return t.config.axis_rotated?e?"-0.5em":"3em":e?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},t.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition().isInner;return t.config.axis_rotated?e?"1.2em":"-2.2em":e?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},t.prototype.textAnchorForXAxisLabel=function(){return this.textAnchorForAxisLabel(this.getXAxisLabelPosition(),!1)},t.prototype.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.getYAxisLabelPosition())},t.prototype.textAnchorForY2AxisLabel=function(){return this.textAnchorForAxisLabel(this.getY2AxisLabelPosition())},t.prototype.getMaxTickWidth=function(t,e){var i=this.owner,n=i.config,a=i.currentMaxTickWidths,r=0;if(e&&a[t])return a[t];if(i.svg){var o=/^y2?$/.test(t),s=i.filterTargetsToShow(i.data.targets),l=o?"getY":"getX",c=i[t].copy().domain(i[l+"Domain"](s,t)),u=this[l+"Axis"](t,c,i[t+"Orient"],o?n["axis_"+t+"_tick_format"]:i.xAxisTickFormat,null,!1,!0,!0);o||this.updateXAxisTickValues(s,u);var d=i.selectChart.append("svg").style("visibility","hidden").style("position","fixed").style("top","0px").style("left","0px");d.call(u).selectAll("text").each(function(){r=Math.max(r,this.getBoundingClientRect().width)}),d.remove()}return r>0&&(a[t]=r),a[t]},t.prototype.updateLabels=function(t){var e=this,i=this.owner,n={X:i.main.select("."+r.default.axisX+" ."+r.default.axisXLabel),Y:i.main.select("."+r.default.axisY+" ."+r.default.axisYLabel),Y2:i.main.select("."+r.default.axisY2+" ."+r.default.axisY2Label)};Object.keys(n).forEach(function(i){var a=n[i],r=i+"AxisLabel";(t?a.transition():a).attr("x",e["xFor"+r].bind(e)).attr("dx",e["dxFor"+r].bind(e)).attr("dy",e["dyFor"+r].bind(e)).text(e["textFor"+r].bind(e))})},t.prototype.getPadding=function(t,e,i,n){var a=(0,o.isNumber)(t)?t:t[e];return(0,o.isValue)(a)?"ratio"===t.unit?t[e]*n:this.convertPixelsToAxisPadding(a,n):i},t.prototype.convertPixelsToAxisPadding=function(t,e){var i=this.owner;return e*(t/(i.config.axis_rotated?i.width:i.height))},t.prototype.generateTickValues=function(t,e,i){var n=t,a=void 0,r=void 0,s=void 0,l=void 0,c=void 0,u=void 0;if(e){var d=(0,o.isFunction)(e)?e():e;if(1===d)n=[t[0]];else if(2===d)n=[t[0],t[t.length-1]];else if(d>2){for(s=d-2,a=t[0],l=((r=t[t.length-1])-a)/(s+1),n=[a],c=0;c<s;c++)u=+a+l*(c+1),n.push(i?new Date(u):u);n.push(r)}}return i||(n=n.sort(function(t,e){return t-e})),n},t.prototype.generateTransitions=function(t){var e=this.owner.axes,i=["x","y","y2","subx"].map(function(i){return t?e[i].transition().duration(t):e[i]});return{axisX:i[0],axisY:i[1],axisY2:i[2],axisSubX:i[3]}},t.prototype.redraw=function(t,e){var i=this.owner,n=e?"0":"1";["x","y","y2","subx"].forEach(function(t){i.axes[t].style("opacity",n)}),t.axisX.call(i.xAxis),t.axisY.call(i.yAxis),t.axisY2.call(i.y2Axis),t.axisSubX.call(i.subXAxis)},t}();e.default=c,t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(){function t(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+x)+", 0)"})}function e(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function i(t){var e=/\d+\.\d+0{5,}\d$/.test(t)?+(t+"").replace(/0+\d$/,""):t,i=h?h(e):e;return(0,r.isDefined)(i)?i:""}function s(t){return c.withoutTransition?t.interrupt():t.transition(_)}function l(n){n.each(function(){var n=(0,a.select)(this);l.g=n;var h,v=this.__chart__||u,_=((h=u.copy()).domain().length||h.domain(u.domain()),h);this.__chart__=_;var y,b,T,A=g||function(t){var e=[];if(t.ticks)return t.ticks.apply(t,p?(0,r.toArray)(p):[]).map(function(t){return(0,r.isString)(t)&&(0,r.isNumber)(t)&&!isNaN(t)&&Math.round(10*t)/10||t});for(var i=t.domain(),n=Math.ceil(i[0]);n<i[1];n++)e.push(n);return e.length>0&&e[0]>0&&e.unshift(e[0]-(e[1]-e[0])),e}(_),w=n.selectAll(".tick").data(A,_),S=w.enter().insert("g",".domain").attr("class","tick").style("opacity","1"),L=w.exit().remove(),C=s(w=S.merge(w)).style("opacity","1"),D=void 0,F=void 0,X=u.rangeExtent?u.rangeExtent():(y=(c.orgXScale||u).range(),b=y[0],T=y[y.length-1],b<T?[b,T]:[T,b]),M=n.selectAll(".domain").data([0]),R=M.enter().append("path").attr("class","domain").merge(s(M));S.append("line"),S.append("text");var k=S.select("line"),E=C.select("line"),I=S.select("text"),O=C.select("text");c.isCategory?(x=Math.ceil((_(1)-_(0))/2),D=m?0:x,F=m?x:0):x=D=0;var B=o.size||o(n.select(".tick")),z=[],P=(Math.max(6,0),/^(left|right)$/.test(d)),Y=/^(top|bottom)$/.test(d),V=w.select("text").selectAll("tspan").data(function(t,e){var n=c.tickMultiline?function(t,e){var n=i(t),a=(0,r.isString)(n)&&n.indexOf("\n")>-1?n.split("\n"):[];if(a.length)return a;var o=e,s=void 0,l=void 0,u=void 0;return(0,r.isArray)(n)?n:((!o||o<=0)&&(o=P?95:c.isCategory?Math.ceil(_(A[1])-_(A[0]))-12:110),function t(e,i){l=void 0;for(var n=1;n<i.length;n++)if(" "===i.charAt(n)&&(l=n),s=i.substr(0,n+1),u=B.w*s.length,o<u)return t(e.concat(i.substr(0,l||n)),i.slice(l?l+1:n));return e.concat(i)}(a,n+""))}(t,c.tickWidth):(0,r.isArray)(i(t))?i(t).concat():[i(t)];return z[e]=n.length,n.map(function(t){return{index:e,splitted:t}})});V.exit().remove(),V=V.enter().append("tspan").merge(V).text(function(t){return t.splitted});var N=Y?t:e,H=/^(top|left)$/.test(d)?-1:1,W=N===t?"y":"x";k.attr(W+"2",6*H),I.attr(""+W,9*H),R.attr("d",function(){var t=f*H;return Y?"M"+X[0]+","+t+"V0H"+X[1]+"V"+t:"M"+t+","+X[0]+"H0V"+X[1]+"H"+t});var G,j=c.tickTextRotate,U=c.axisName&&/^(x|y|y2)$/.test(c.axisName)?c.config["axis_"+c.axisName+"_tick_text_position"]:{x:0,y:0};if(V.attr("x",Y?0:9*H).attr("dx",function(){var t=0;return"bottom"===d&&j&&(t=8*Math.sin(Math.PI*(j/180))),t+(U.x||0)}()).attr("dy",function(t,e){var i=0;return"top"!==d&&(i=0===e?P?-((z[t.index]-1)*(B.h/2)-3):0===U.y?".71em":0:B.h),(0,r.isNumber)(i)&&U.y?i+U.y:i||".71em"}),"bottom"===d?(E.attr("x1",D).attr("x2",D).attr("y2",function(t){var e=u(t)+(m?0:x);return X[0]<e&&e<X[1]?6:0}),O.attr("x",0).attr("y",(G=j,G?11.5-G/15*2.5*(G>0?1:-1):9)).style("text-anchor",function(t){return t?t>0?"start":"end":"middle"}(j)).attr("transform",function(t){return t?"rotate("+t+")":null}(j))):"top"===d?(E.attr("x2",0).attr("y2",-6),O.attr("x",0).attr("y",-9).style("text-anchor","middle")):"left"===d?(E.attr("x2",-6).attr("y1",F).attr("y2",F),O.attr("x",-9).attr("y",x).style("text-anchor","end")):"right"===d&&(E.attr("x2",6).attr("y2",0),O.attr("x",9).attr("y",0).style("text-anchor","start")),c.tickTitle&&O.append&&O.append("title").each(function(t){(0,a.select)(this).text(c.tickTitle[t])}),_.bandwidth){var Z=_,$=Z.bandwidth()/2;_=v=function(t){return Z(t)+$}}else v.bandwidth?v=_:L.call(N,_);S.call(N,v),C.call(N,_)})}var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=(0,n.scaleLinear)(),d="bottom",f=c.withOuterTick?6:0,g=null,h=void 0,p=void 0,x=0,v=!0,m=void 0,_=void 0;return l.scale=function(t){return arguments.length?(u=t,l):u},l.orient=function(t){return arguments.length?(d=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",l):d},l.tickFormat=function(t){return arguments.length?(h=t,l):h},l.tickCentered=function(t){return arguments.length?(m=t,l):m},l.tickOffset=function(){return x},l.tickInterval=function(t){var e=void 0;c.isCategory?e=2*x:e=(l.g.select("path.domain").node().getTotalLength()-2*f)/(t||l.g.selectAll("line").size());return e===1/0?0:e},l.ticks=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.length?(p=(0,r.toArray)(e),l):p},l.tickCulling=function(t){return arguments.length?(v=t,l):v},l.tickValues=function(t){if((0,r.isFunction)(t))g=function(){return t(u.domain())};else{if(!arguments.length)return g;g=t}return l},l.setTransition=function(t){return _=t,l},l};var n=i(10),a=i(5),r=i(11),o=function t(e){var i={w:5.5,h:11.5};return e.empty()||e.select("text").text("0").call(function(t){try{var e=t.node().getBBox(),n=e.height,a=e.width;n&&a&&(i.h=n,i.w=a),t.text("")}catch(t){}}),t.size=i};t.exports=e.default},function(t,e){t.exports=a},function(t,e,i){"use strict";e.__esModule=!0,e.toArray=e.sanitise=e.merge=e.notEmpty=e.isValue=e.isUndefined=e.isString=e.isObjectType=e.isObject=e.isNumber=e.isFunction=e.isEmpty=e.isDefined=e.isBoolean=e.isArray=e.hasValue=e.getRectSegList=e.getPathBox=e.getOption=e.getCssRules=e.getBrushSelection=e.extend=e.emulateEvent=e.diffDomain=e.ceil10=e.capitalize=e.callFn=e.brushEmpty=e.asHalfPixel=void 0;var n=s(i(12)),a=i(5),r=i(13),o=s(i(14));function s(t){return t&&t.__esModule?t:{default:t}}var l=function(t){return"function"==typeof t},c=function(t){return"string"==typeof t},u=function(t){return void 0===t},d=function(t){return void 0!==t},f=function(t){return"object"===(void 0===t?"undefined":(0,n.default)(t))},g=function(t){return u(t)||null===t||c(t)&&0===t.length||f(t)&&0===Object.keys(t).length},h=function(t){return t&&t.constructor===Array},p=function(t){return t&&!t.nodeType&&f(t)&&!h(t)},x=function(t){var e=t.getBBox(),i=[e.x,e.y,e.width,e.height],n=i[0],a=i[1],r=i[2],o=i[3];return[{x:n,y:a+o},{x:n,y:a},{x:n+r,y:a},{x:n+r,y:a+o}]},v=function(t){var e=null,i=a.event,n=t.context||t.main;return i&&"BrushEvent"===i.constructor.name?e=i.selection:n&&(e=n.select("."+o.default.brush).node())&&(e=(0,r.brushSelection)(e)),e},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];for(var i in e)t[i]=e[i];return t},_=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!i.length||1===i.length&&!i[0])return t;var a=i.shift();return p(t)&&p(a)&&Object.keys(a).forEach(function(e){var i=a[e];p(i)?(!t[e]&&(t[e]={}),t[e]=_(t[e],i)):t[e]=h(i)?i.concat():i}),m.apply(void 0,[t].concat(i))},y=function(t){return[].slice.call(t)},b={mouse:function(){try{return new MouseEvent("t"),function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0};t.dispatchEvent(new MouseEvent(e,i))}}catch(t){return function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{bubbles:!1,cancelable:!1,screenX:0,screenY:0,clientX:0,clientY:0},n=document.createEvent("MouseEvent");n.initMouseEvent(e,i.bubbles,i.cancelable,window,0,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}}(),touch:function(t,e,i){var n=new Touch(Object.assign({identifier:Date.now(),target:t,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5},i));t.dispatchEvent(new TouchEvent(e,{cancelable:!0,bubbles:!0,shiftKey:!0,touches:[n],targetTouches:[],changedTouches:[n]}))}};e.asHalfPixel=function(t){return Math.ceil(t)+.5},e.brushEmpty=function(t){var e=v(t);return!e||e[0]===e[1]},e.callFn=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];var a=l(t);return a&&t.call.apply(t,i),a},e.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.ceil10=function(t){return 10*Math.ceil(t/10)},e.diffDomain=function(t){return t[1]-t[0]},e.emulateEvent=b,e.extend=m,e.getBrushSelection=v,e.getCssRules=function(t){var e=[];return t.forEach(function(t){try{t.cssRules&&t.cssRules.length&&(e=e.concat(y(t.cssRules)))}catch(e){console.error("Error while reading rules from "+t.href+": "+e.toString())}}),e},e.getOption=function(t,e,i){return d(t[e])?t[e]:i},e.getPathBox=function(t){var e=t.getBoundingClientRect(),i=[e.width,e.height],n=i[0],a=i[1],r=x(t);return{x:r[0].x,y:Math.min(r[0].y,r[1].y),width:n,height:a}},e.getRectSegList=x,e.hasValue=function(t,e){var i=!1;return Object.keys(t).forEach(function(n){return t[n]===e&&(i=!0)}),i},e.isArray=h,e.isBoolean=function(t){return"boolean"==typeof t},e.isDefined=d,e.isEmpty=g,e.isFunction=l,e.isNumber=function(t){return"number"==typeof t},e.isObject=p,e.isObjectType=f,e.isString=c,e.isUndefined=u,e.isValue=function(t){return t||0===t},e.notEmpty=function(t){return!g(t)},e.merge=_,e.sanitise=function(t){return c(t)?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},e.toArray=y},function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":void 0===t?"undefined":function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t}(t)}},function(t,e){t.exports=r},function(t,e,i){"use strict";e.__esModule=!0,e.default={arc:"bb-arc",arcs:"bb-arcs",area:"bb-area",areas:"bb-areas",axis:"bb-axis",axisX:"bb-axis-x",axisXLabel:"bb-axis-x-label",axisY:"bb-axis-y",axisY2:"bb-axis-y2",axisY2Label:"bb-axis-y2-label",axisYLabel:"bb-axis-y-label",bar:"bb-bar",bars:"bb-bars",brush:"bb-brush",button:"bb-button",buttonZoomReset:"bb-zoom-reset",chart:"bb-chart",chartArc:"bb-chart-arc",chartArcs:"bb-chart-arcs",chartArcsBackground:"bb-chart-arcs-background",chartArcsGaugeMax:"bb-chart-arcs-gauge-max",chartArcsGaugeMin:"bb-chart-arcs-gauge-min",chartArcsGaugeUnit:"bb-chart-arcs-gauge-unit",chartArcsTitle:"bb-chart-arcs-title",chartBar:"bb-chart-bar",chartBars:"bb-chart-bars",chartLine:"bb-chart-line",chartLines:"bb-chart-lines",chartRadar:"bb-chart-radar",chartRadars:"bb-chart-radars",chartText:"bb-chart-text",chartTexts:"bb-chart-texts",circle:"bb-circle",circles:"bb-circles",colorPattern:"bb-color-pattern",defocused:"bb-defocused",dragarea:"bb-dragarea",empty:"bb-empty",eventRect:"bb-event-rect",eventRects:"bb-event-rects",eventRectsMultiple:"bb-event-rects-multiple",eventRectsSingle:"bb-event-rects-single",focused:"bb-focused",gaugeValue:"bb-gauge-value",grid:"bb-grid",gridLines:"bb-grid-lines",legendBackground:"bb-legend-background",legendItem:"bb-legend-item",legendItemEvent:"bb-legend-item-event",legendItemFocused:"bb-legend-item-focused",legendItemHidden:"bb-legend-item-hidden",legendItemPoint:"bb-legend-item-point",legendItemTile:"bb-legend-item-tile",level:"bb-level",levels:"bb-levels",line:"bb-line",lines:"bb-lines",region:"bb-region",regions:"bb-regions",selectedCircle:"bb-selected-circle",selectedCircles:"bb-selected-circles",shape:"bb-shape",shapes:"bb-shapes",target:"bb-target",text:"bb-text",texts:"bb-texts",title:"bb-title",tooltip:"bb-tooltip",tooltipContainer:"bb-tooltip-container",tooltipName:"bb-tooltip-name",xgrid:"bb-xgrid",xgridFocus:"bb-xgrid-focus",xgridLine:"bb-xgrid-line",xgridLines:"bb-xgrid-lines",xgrids:"bb-xgrids",ygrid:"bb-ygrid",ygridLine:"bb-ygrid-line",ygridLines:"bb-ygrid-lines",ygrids:"bb-ygrids",zoomBrush:"bb-zoom-brush",zoomRect:"bb-zoom-rect",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},t.exports=e.default},function(t,e,i){},,function(t,e,i){"use strict";var n=o(i(18)),a=o(i(3)),r=i(11);function o(t){return t&&t.__esModule?t:{default:t}}(0,r.extend)(a.default.prototype,{getOptions:function(){var t=new n.default;return(0,r.merge)(t.value,this.additionalConfig)},additionalConfig:{},loadConfig:function(t){var e=this.config,i=void 0,n=void 0,a=void 0,o=function(){var t=n.shift();return t&&i&&(0,r.isObjectType)(i)&&t in i?(i=i[t],o()):t?void 0:i};Object.keys(e).forEach(function(s){i=t,n=s.split("_"),a=o(),(0,r.isDefined)(a)&&(e[s]=a)})}})},function(t,e,i){"use strict";e.__esModule=!0;var n,a=i(2),r=(n=a)&&n.__esModule?n:{default:n};e.default=function t(){(0,r.default)(this,t),this.value={bindto:"#chart",clipPath:!0,svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:void 0,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:void 0,zoom_onzoomstart:void 0,zoom_onzoomend:void 0,zoom_resetButton:!0,zoom_x_min:void 0,zoom_x_max:void 0,interaction_enabled:!0,interaction_brighten:!0,interaction_inputType_mouse:!0,interaction_inputType_touch:{},onover:function(){},onout:function(){},onresize:function(){},onresized:function(){},onbeforeinit:void 0,oninit:function(){},onafterinit:void 0,onrendered:void 0,transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_labels_position:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onover:function(){},data_onout:function(){},data_onselected:function(){},data_onunselected:function(){},data_onmin:void 0,data_onmax:void 0,data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_tiles:void 0,color_threshold:{},legend_show:!0,legend_hide:!1,legend_contents_bindto:void 0,legend_contents_template:void 0,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onover:void 0,legend_item_onout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,legend_usePoint:!1,axis_rotated:!1,axis_x_clipPath:!0,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_text_position:{x:0,y:0},axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_tick_tooltip:!1,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_clipPath:!0,axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:!1,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_text_position:{x:0,y:0},axis_y_tick_time_value:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:!1,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_tick_text_position:{x:0,y:0},axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_front:!1,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_pattern:[],point_select_r:void 0,point_type:"circle",line_connectNull:!1,line_step_type:"step",line_classes:void 0,line_point:!0,bar_padding:0,bar_radius:void 0,bar_radius_ratio:void 0,bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bubble_maxR:35,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_innerRadius:0,pie_padAngle:0,pie_padding:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",radar_axis_max:void 0,radar_axis_line_show:!0,radar_axis_text_show:!0,radar_level_depth:3,radar_level_show:!0,radar_level_text_format:function(t){return t%1==0?t:t.toFixed(2)},radar_level_text_show:!0,radar_size_ratio:.87,radar_direction_clockwise:!1,regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,i,n){return this.getTooltipContent?this.getTooltipContent(t,e,i,n):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_linked:!1,tooltip_linked_name:"",tooltip_onshow:function(){},tooltip_onhide:function(){},tooltip_onshown:function(){},tooltip_onhidden:function(){},tooltip_order:null,title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"}},t.exports=e.default},function(t,e,i){"use strict";var n,a=i(10),r=i(3),o=(n=r)&&n.__esModule?n:{default:n};(0,i(11).extend)(o.default.prototype,{getScale:function(t,e,i){return(i?(0,a.scaleTime)():(0,a.scaleLinear)()).range([t,e])},getX:function(t,e,i,n){var a=this.zoomScale||this.getScale(t,e,this.isTimeSeries());return this.getCustomizedScale(i?a.domain(i):a,n)},getY:function(t,e,i){var n=this.getScale(t,e,this.isTimeSeriesY());return i&&n.domain(i),n},getCustomizedScale:function(t,e){var i=this,n=e||function(){return i.xAxis.tickOffset()},a=function(e,i){var a=t(e)+n();return i?a:Math.ceil(a)};for(var r in t)a[r]=t[r];return a.orgDomain=function(){return t.domain()},a.orgScale=function(){return t},i.isCategorized()&&(a.domain=function(e){var i=e;return arguments.length?(t.domain(i),a):[(i=this.orgDomain())[0],i[1]+1]}),a},getYScale:function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},getSubYScale:function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},updateScales:function(t){var e=this,i=e.config,n=i.axis_rotated,a=!e.x;e.xMin=n?1:0,e.xMax=n?e.height:e.width,e.yMin=n?0:e.height,e.yMax=n?e.width:1,e.subXMin=e.xMin,e.subXMax=e.xMax,e.subYMin=n?0:e.height2,e.subYMax=n?e.width2:1,e.x=e.getX(e.xMin,e.xMax,a?void 0:e.x.orgDomain(),function(){return e.xAxis.tickOffset()}),e.y=e.getY(e.yMin,e.yMax,a?i.axis_y_default:e.y.domain()),e.y2=e.getY(e.yMin,e.yMax,a?i.axis_y2_default:e.y2.domain()),e.subX=e.getX(e.xMin,e.xMax,e.orgXDomain,function(t){return t%1?0:e.subXAxis.tickOffset()}),e.subY=e.getY(e.subYMin,e.subYMax,a?i.axis_y_default:e.subY.domain()),e.subY2=e.getY(e.subYMin,e.subYMax,a?i.axis_y2_default:e.subY2.domain()),e.xAxisTickFormat=e.axis.getXAxisTickFormat(),e.xAxisTickValues=e.axis.getXAxisTickValues(),e.yAxisTickValues=e.axis.getYAxisTickValues(),e.y2AxisTickValues=e.axis.getY2AxisTickValues(),e.xAxis=e.axis.getXAxis("x",e.x,e.xOrient,e.xAxisTickFormat,e.xAxisTickValues,i.axis_x_tick_outer,t),e.subXAxis=e.axis.getXAxis("subx",e.subX,e.subXOrient,e.xAxisTickFormat,e.xAxisTickValues,i.axis_x_tick_outer),e.yAxis=e.axis.getYAxis("y",e.y,e.yOrient,i.axis_y_tick_format,e.yAxisTickValues,i.axis_y_tick_outer),e.y2Axis=e.axis.getYAxis("y2",e.y2,e.y2Orient,i.axis_y2_tick_format,e.y2AxisTickValues,i.axis_y2_tick_outer),e.updateArc&&e.updateArc()}})},function(t,e,i){"use strict";var n,a=i(6),r=i(3),o=(n=r)&&n.__esModule?n:{default:n},s=i(11);(0,s.extend)(o.default.prototype,{getYDomainMinMax:function(t,e){var i=this,n="min"===e,r=i.config.data_groups,o=i.mapToIds(t),s=i.getValuesAsIdKeyed(t),l=n?a.min:a.max;return r.length>0&&function(){for(var e=i["has"+(n?"Negative":"Positive")+"ValueInTargets"](t),a=void 0,l=void 0,c=0;l=r[c];c++)if(0!==(l=l.filter(function(t){return o.indexOf(t)>=0})).length){if(a=l[0],e&&s[a]){var u=n?function(t,e){s[a][e]=t<0?t:0}:function(t,e){s[a][e]=t>0?t:0};s[a].forEach(u)}for(var d,f=function(t,r){return s[r]?void s[r].forEach(function(t,o){var l=+t,c=n?l>0:l<0;i.axis.getId(r)===i.axis.getId(a)&&s[a]&&(!e||!c)&&(s[a][o]+=l)}):"continue"},g=1;d=l[g];g++)f(0,d)}}(),l(Object.keys(s).map(function(t){return l(s[t])}))},getYDomainMin:function(t){return this.getYDomainMinMax(t,"min")},getYDomainMax:function(t){return this.getYDomainMinMax(t,"max")},getYDomain:function(t,e,i){var n=this,a=n.config,r=t.filter(function(t){return n.axis.getId(t.id)===e}),o=i?n.filterByXDomain(r,i):r,l="y2"===e?a.axis_y2_min:a.axis_y_min,c="y2"===e?a.axis_y2_max:a.axis_y_max,u=n.getYDomainMin(o),d=n.getYDomainMax(o),f="y2"===e?a.axis_y2_center:a.axis_y_center,g=n.hasType("bar",o)&&a.bar_zerobased||n.hasType("area",o)&&a.area_zerobased,h="y2"===e?a.axis_y2_inverted:a.axis_y_inverted,p=n.hasDataLabel()&&a.axis_rotated,x=n.hasDataLabel()&&!a.axis_rotated,v=void 0;if(u=(0,s.isValue)(l)?l:(0,s.isValue)(c)?u<c?u:c-10:u,d=(0,s.isValue)(c)?c:(0,s.isValue)(l)?l<d?d:l+10:d,0===o.length)return"y2"===e?n.y2.domain():n.y.domain();isNaN(u)&&(u=0),isNaN(d)&&(d=u),u===d&&(u<0?d=0:u=0);var m=u>=0&&d>=0,_=u<=0&&d<=0;((0,s.isValue)(l)&&m||(0,s.isValue)(c)&&_)&&(g=!1),g&&(m&&(u=0),_&&(d=0));var y=Math.abs(d-u),b=.1*y,T=.1*y;if((0,s.isDefined)(f)){var A=Math.max(Math.abs(u),Math.abs(d));d=f+A,u=f-A}if(p){v=n.getDataLabelLength(u,d,"width");var w=(0,s.diffDomain)(n.y.range()),S=[v[0]/w,v[1]/w];b+=y*(S[1]/(1-S[0]-S[1])),T+=y*(S[0]/(1-S[0]-S[1]))}else x&&(v=n.getDataLabelLength(u,d,"height"),b+=n.axis.convertPixelsToAxisPadding(v[1],y),T+=n.axis.convertPixelsToAxisPadding(v[0],y));"y"===e&&(0,s.notEmpty)(a.axis_y_padding)&&(b=n.axis.getPadding(a.axis_y_padding,"top",b,y),T=n.axis.getPadding(a.axis_y_padding,"bottom",T,y)),"y2"===e&&(0,s.notEmpty)(a.axis_y2_padding)&&(b=n.axis.getPadding(a.axis_y2_padding,"top",b,y),T=n.axis.getPadding(a.axis_y2_padding,"bottom",T,y)),g&&(m&&(T=u),_&&(b=-d));var L=[u-T,d+b];return h?L.reverse():L},getXDomainMinMax:function(t,e){var i=this.config["axis_x_"+e],n="min"===e?a.min:a.max;return(0,s.isDefined)(i)?this.isTimeSeries()?this.parseDate(i):i:n(t,function(t){return n(t.values,function(t){return t.x})})},getXDomainMin:function(t){return this.getXDomainMinMax(t,"min")},getXDomainMax:function(t){return this.getXDomainMinMax(t,"max")},getXDomainPadding:function(t){var e=this.config,i=t[1]-t[0],n=e.axis_x_padding,a=void 0,r=void 0;this.isCategorized()?r=0:this.hasType("bar")?r=(a=this.getMaxDataCount())>1?i/(a-1)/2:.5:r=.01*i;var o=r,l=r;return(0,s.isObject)(n)&&(0,s.notEmpty)(n)?(o=(0,s.isValue)(n.left)?n.left:r,l=(0,s.isValue)(n.right)?n.right:r):(0,s.isNumber)(e.axis_x_padding)&&(o=n,l=n),{left:o,right:l}},getXDomain:function(t){var e=this,i=[e.getXDomainMin(t),e.getXDomainMax(t)],n=i[0],a=i[1],r=e.getXDomainPadding(i),o=0,s=0;return n-a!=0||e.isCategorized()||(e.isTimeSeries()?(n=new Date(.5*n.getTime()),a=new Date(1.5*a.getTime())):(n=0===n?1:.5*n,a=0===a?-1:1.5*a)),(n||0===n)&&(o=e.isTimeSeries()?new Date(n.getTime()-r.left):n-r.left),(a||0===a)&&(s=e.isTimeSeries()?new Date(a.getTime()+r.right):a+r.right),[o,s]},updateXDomain:function(t,e,i,n,r){var o=this,l=o.config.zoom_enabled;if(i&&(o.x.domain(r||(0,a.extent)(o.getXDomain(t))),o.orgXDomain=o.x.domain(),l&&o.zoom.updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e){var c=r||!o.brush||(0,s.brushEmpty)(o)?o.orgXDomain:(0,s.getBrushSelection)(o).map(o.subX.invert);o.x.domain(c),l&&o.zoom.updateScaleExtent()}return n&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},trimXDomain:function(t){var e=this.getZoomDomain(),i=e[0],n=e[1];return t[0]<=i&&(t[1]=+t[1]+(i-t[0]),t[0]=i),n<=t[1]&&(t[0]=+t[0]-(t[1]-n),t[1]=n),t}})},function(t,e,i){"use strict";var n=i(6),a=i(22),r=l(i(14)),o=l(i(3)),s=i(11);function l(t){return t&&t.__esModule?t:{default:t}}(0,s.extend)(o.default.prototype,{isX:function(t){var e=this.config,i=e.data_x&&t===e.data_x,n=(0,s.notEmpty)(e.data_xs)&&(0,s.hasValue)(e.data_xs,t);return i||n},isNotX:function(t){return!this.isX(t)},getXKey:function(t){var e=this.config;return e.data_x?e.data_x:(0,s.notEmpty)(e.data_xs)?e.data_xs[t]:null},getXValuesOfXKey:function(t,e){var i=this,n=void 0;return(e&&(0,s.notEmpty)(e)?i.mapToIds(e):[]).forEach(function(e){i.getXKey(e)===t&&(n=i.data.xs[e])}),n},getIndexByX:function(t){var e=this.filterByX(this.data.targets,t);return e.length?e[0].index:null},getXValue:function(t,e){return t in this.data.xs&&this.data.xs[t]&&(0,s.isValue)(this.data.xs[t][e])?this.data.xs[t][e]:e},getOtherTargetXs:function(){var t=Object.keys(this.data.xs);return t.length?this.data.xs[t[0]]:null},getOtherTargetX:function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},addXs:function(t){var e=this;Object.keys(t).forEach(function(i){e.config.data_xs[i]=t[i]})},hasMultipleX:function(t){return(0,a.set)(Object.keys(t).map(function(e){return t[e]})).size()>1},isMultipleX:function(){return(0,s.notEmpty)(this.config.data_xs)||!this.config.data_xSort||this.hasType("bubble")||this.hasType("scatter")},addName:function(t){var e=void 0;return t&&(e=this.config.data_names[t.id],t.name=void 0===e?t.id:e),t},getAllValuesOnIndex:function(t){var e=this;return e.filterTargetsToShow(e.data.targets).map(function(i){return e.addName(e.getValueOnIndex(i.values,t))})},getValueOnIndex:function(t,e){var i=t.filter(function(t){return t.index===e});return i.length?i[0]:null},updateTargetX:function(t,e){var i=this;t.forEach(function(t){t.values.forEach(function(n,a){n.x=i.generateTargetX(e[a],t.id,a)}),i.data.xs[t.id]=e})},updateTargetXs:function(t,e){var i=this;t.forEach(function(t){e[t.id]&&i.updateTargetX([t],e[t.id])})},generateTargetX:function(t,e,i){var n=this,a=i;return n.isTimeSeries()?a=t?n.parseDate(t):n.parseDate(n.getXValue(e,i)):n.isCustomX()&&!n.isCategorized()&&(a=(0,s.isValue)(t)?+t:n.getXValue(e,i)),a},cloneTarget:function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},updateXs:function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},getPrevX:function(t){var e=this.xs[t-1];return(0,s.isDefined)(e)?e:null},getNextX:function(t){var e=this.xs[t+1];return(0,s.isDefined)(e)?e:null},getBaseValue:function(t){var e=t.value;return e&&this.isAreaRangeType(t)&&(e=this.getAreaRangeData(t,"mid")),e},getMinMaxValue:function(t){var e=this.getBaseValue.bind(this),i=void 0,a=void 0;return(t||this.data.targets.map(function(t){return t.values})).forEach(function(t){i=(0,n.min)([i,(0,n.min)(t,e)]),a=(0,n.max)([a,(0,n.max)(t,e)])}),{min:i,max:a}},getMinMaxData:function(){var t=this,e=t.getCache("$minMaxData");if(!e){var i=t.data.targets.map(function(t){return t.values}),n=t.getMinMaxValue(i),a=[],r=[];i.forEach(function(e){var i=t.getFilteredDataByValue(e,n.min),o=t.getFilteredDataByValue(e,n.max);i.length&&(a=a.concat(i)),o.length&&(r=r.concat(o))}),t.addCache("$minMaxData",e={min:a,max:r})}return e},getTotalDataSum:function(){var t=this.getCache("$totalDataSum");if(!t){var e=0;this.data.targets.map(function(t){return t.values}).forEach(function(t){e+=(0,n.sum)(t,function(t){return t.value})}),this.addCache("$totalDataSum",t=e)}return t},getFilteredDataByValue:function(t,e){var i=this;return t.filter(function(t){return i.getBaseValue(t)===e})},getMaxDataCount:function(){return(0,n.max)(this.data.targets,function(t){return t.values.length})},getMaxDataCountTarget:function(t){var e=t.length,i=0,n=void 0;return e>1?t.forEach(function(t){t.values.length>i&&(n=t,i=t.values.length)}):n=e?t[0]:null,n},mapToIds:function(t){return t.map(function(t){return t.id})},mapToTargetIds:function(t){return t?(0,s.isArray)(t)?t.concat():[t]:this.mapToIds(this.data.targets)},hasTarget:function(t,e){for(var i,n=this.mapToIds(t),a=0;i=n[a];a++)if(i===e)return!0;return!1},isTargetToShow:function(t){return this.hiddenTargetIds.indexOf(t)<0},isLegendToShow:function(t){return this.hiddenLegendIds.indexOf(t)<0},filterTargetsToShow:function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},mapTargetsToUniqueXs:function(t){var e=(0,a.set)((0,n.merge)(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return(e=this.isTimeSeries()?e.map(function(t){return new Date(+t)}):e.map(function(t){return+t})).sort(function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN})},addHiddenTargetIds:function(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},removeHiddenTargetIds:function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},addHiddenLegendIds:function(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},removeHiddenLegendIds:function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},getValuesAsIdKeyed:function(t){var e={};return t.forEach(function(t){var i=[];t.values.forEach(function(t){var e=t.value;(0,s.isArray)(e)?i.push.apply(i,e):(0,s.isObject)(e)&&"high"in e?i.push.apply(i,Object.values(e)):i.push(e)}),e[t.id]=i}),e},checkValueInTargets:function(t,e){for(var i=Object.keys(t),n=void 0,a=0;a<i.length;a++){n=t[i[a]].values;for(var r=0;r<n.length;r++)if(e(n[r].value))return!0}return!1},hasNegativeValueInTargets:function(t){return this.checkValueInTargets(t,function(t){return t<0})},hasPositiveValueInTargets:function(t){return this.checkValueInTargets(t,function(t){return t>0})},_checkOrder:function(t){var e=this.config;return(0,s.isString)(e.data_order)&&e.data_order.toLowerCase()===t},isOrderDesc:function(){return this._checkOrder("desc")},isOrderAsc:function(){return this._checkOrder("asc")},orderTargets:function(t){var e=this.config,i=[].concat(t),n=this.isOrderAsc(),a=this.isOrderDesc();return n||a?i.sort(function(t,e){var i=function(t,e){return t+Math.abs(e.value)},a=t.values.reduce(i,0),r=e.values.reduce(i,0);return n?r-a:a-r}):(0,s.isFunction)(e.data_order)&&i.sort(e.data_order),i},filterByX:function(t,e){return(0,n.merge)(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},filterRemoveNull:function(t){var e=this;return t.filter(function(t){return(0,s.isValue)(e.getBaseValue(t))})},filterByXDomain:function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},hasDataLabel:function(){var t=this.config.data_labels;return(0,s.isBoolean)(t)&&t||(0,s.isObjectType)(t)&&(0,s.notEmpty)(t)},getDataLabelLength:function(t,e,i){var n=this,a=[0,0];return n.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return n.dataLabelFormat(t.id)(t)}).each(function(t,e){a[e]=1.3*this.getBoundingClientRect()[i]}).remove(),a},isNoneArc:function(t){return this.hasTarget(this.data.targets,t.id)},isArc:function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},findSameXOfValues:function(t,e){var i=t[e].x,n=[],a=void 0;for(a=e-1;a>=0&&i===t[a].x;a--)n.push(t[a]);for(a=e;a<t.length&&i===t[a].x;a++)n.push(t[a]);return n},findClosestFromTargets:function(t,e){var i=this,n=t.map(function(t){return i.findClosest(t.values,e)});return i.findClosest(n,e)},findClosest:function(t,e){var i=this,n=i.config.point_sensitivity,a=void 0;return t.filter(function(t){return t&&i.isBarType(t.id)}).forEach(function(t){var e=i.main.select("."+r.default.bars+i.getTargetSelectorSuffix(t.id)+" ."+r.default.bar+"-"+t.index).node();!a&&i.isWithinBar(e)&&(a=t)}),t.filter(function(t){return t&&!i.isBarType(t.id)}).forEach(function(t){var r=i.dist(t,e);r<n&&(n=r,a=t)}),a},dist:function(t,e){var i=this.config.axis_rotated,n=i?1:0,a=i?0:1,r=this.circleY(t,t.index),o=this.x(t.x);return Math.sqrt(Math.pow(o-e[n],2)+Math.pow(r-e[a],2))},convertValuesToStep:function(t){var e=this.config,i=e.axis_rotated,n=e.line_step_type,a=this.isCategorized(),r=(0,s.isArray)(t)?t.concat():[t];if(!i&&!a)return t;var o=r[0].id,l=r[0].x-1,c=r[0].value;return a&&r.unshift({x:l,value:c,id:o}),"step-after"===n&&r.unshift({x:l-1,value:c,id:o}),c=r[(l=r.length)-1].value,a&&r.push({x:l,value:c,id:o}),"step-before"===n&&r.push({x:l+1,value:c,id:o}),r},convertValuesToRange:function(t){var e=[];return((0,s.isArray)(t)?t.concat():[t]).forEach(function(t){var i=t.x,n=t.id;e.push({x:i,id:n,value:t.value[0]}),e.push({x:i,id:n,value:t.value[2]})}),e},updateDataAttributes:function(t,e){var i=this.config["data_"+t];return(0,s.isUndefined)(e)?i:(Object.keys(e).forEach(function(t){i[t]=e[t]}),this.redraw({withLegend:!0}),i)},getAreaRangeData:function(t,e){var i=t.value;if((0,s.isArray)(i)){var n=["high","mid","low"].indexOf(e);return-1===n?null:i[n]}return i[e]}})},function(t,e){t.exports=o},function(t,e,i){"use strict";var n,a=i(24),r=i(22),o=i(3),s=(n=o)&&n.__esModule?n:{default:n},l=i(11);(0,l.extend)(s.default.prototype,{convertUrlToData:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv",n=arguments[2],a=arguments[3],r=arguments[4],o=new XMLHttpRequest;if(n){var s=Object.keys(n),c=Array.isArray(s),u=0;for(s=c?s:s[Symbol.iterator]();;){var d;if(c){if(u>=s.length)break;d=s[u++]}else{if((u=s.next()).done)break;d=u.value}var f=d;o.setRequestHeader(f,n[f])}}o.open("GET",t),o.onreadystatechange=function(){if(4===o.readyState){if(200!==o.status)throw new Error(t+": Something went wrong loading!");var n=o.responseText;n&&r.call(e,e["convert"+(0,l.capitalize)(i)+"ToData"]("json"===i?JSON.parse(n):n,a))}},o.send()},_convertCsvTsvToData:function(t,e){var i=t.rows(e),n=void 0;return 1===i.length?(n=[{}],i[0].forEach(function(t){n[0][t]=null})):n=t.parse(e),n},convertCsvToData:function(t){return this._convertCsvTsvToData({rows:a.csvParseRows,parse:a.csvParse},t)},convertTsvToData:function(t){return this._convertCsvTsvToData({rows:a.tsvParseRows,parse:a.tsvParse},t)},convertJsonToData:function(t,e){var i=this,n=this.config,a=[],r=void 0,o=void 0;if((0,l.isArray)(t)){var s=e||n.data_keys;s.x?(r=s.value.concat(s.x),n.data_x=s.x):r=s.value,a.push(r),t.forEach(function(t){var e=[],n=r,o=Array.isArray(n),s=0;for(n=o?n:n[Symbol.iterator]();;){var c;if(o){if(s>=n.length)break;c=n[s++]}else{if((s=n.next()).done)break;c=s.value}var u=c,d=i.findValueInJson(t,u);(0,l.isUndefined)(d)&&(d=null),e.push(d)}a.push(e)}),o=this.convertRowsToData(a)}else Object.keys(t).forEach(function(e){var i=t[e].concat();i.unshift(e),a.push(i)}),o=this.convertColumnsToData(a);return o},findValueInJson:function(t,e){if(void 0!==t[e])return t[e];var i=t,n=e.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split("."),a=Array.isArray(n),r=0;for(n=a?n:n[Symbol.iterator]();;){var o;if(a){if(r>=n.length)break;o=n[r++]}else{if((r=n.next()).done)break;o=r.value}if(!(o in i)){i=void 0;break}i=i[o]}return i},convertRowsToData:function(t){for(var e=t[0],i=[],n=1,a=t.length;n<a;n++){for(var r={},o=0,s=t[n].length;o<s;o++){if((0,l.isUndefined)(t[n][o]))throw new Error("Source data is missing a component at ("+n+", "+o+")!");r[e[o]]=t[n][o]}i.push(r)}return i},convertColumnsToData:function(t){for(var e=[],i=0,n=t.length;i<n;i++)for(var a=t[i][0],r=1,o=t[i].length;r<o;r++){if((0,l.isUndefined)(e[r-1])&&(e[r-1]={}),(0,l.isUndefined)(t[i][r]))throw new Error("Source data is missing a component at ("+i+", "+r+")!");e[r-1][a]=t[i][r]}return e},convertDataToTargets:function(t,e){var i=this,n=this,a=n.config,o=(0,r.keys)(t[0]).filter(n.isNotX,n),s=(0,r.keys)(t[0]).filter(n.isX,n),c=void 0;o.forEach(function(r){var o=i.getXKey(r);i.isCustomX()||i.isTimeSeries()?s.indexOf(o)>=0?c=(e&&n.data.xs[r]||[]).concat(t.map(function(t){return t[o]}).filter(l.isValue).map(function(t,e){return n.generateTargetX(t,r,e)})):a.data_x?c=i.getOtherTargetXs():(0,l.notEmpty)(a.data_xs)&&(c=n.getXValuesOfXKey(o,n.data.targets)):c=t.map(function(t,e){return e}),c&&(i.data.xs[r]=c)}),o.forEach(function(t){if(!c)throw new Error('x is not defined for id = "'+t+'".')});var u=o.map(function(e,i){var r=a.data_idConverter(e),o=n.getXKey(e),s=n.isCustomX()&&n.isCategorized(),c=s&&t.map(function(t){return t.x}).every(function(t){return a.axis_x_categories.indexOf(t)>-1});return{id:r,id_org:e,values:t.map(function(t,u){var d=t[o],f=t[e],g=void 0;return f=null===f||isNaN(f)?(0,l.isArray)(f)||(0,l.isObject)(f)&&f.high?f:null:+t[e],s&&0===i&&!(0,l.isUndefined)(d)?(!c&&0===i&&0===u&&(a.axis_x_categories=[]),-1===(g=a.axis_x_categories.indexOf(d))&&(g=a.axis_x_categories.length,a.axis_x_categories.push(d))):g=n.generateTargetX(d,e,u),((0,l.isUndefined)(t[e])||n.data.xs[e].length<=u)&&(g=void 0),{x:g,value:f,id:r}}).filter(function(t){return(0,l.isDefined)(t.x)})}});return u.forEach(function(t){a.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)})),t.values.forEach(function(t,e){var i=n.data.targets?n.getIndexByX(t.x):null;t.index=null===i?e:i}),n.data.xs[t.id].sort(function(t,e){return t-e})}),n.hasNegativeValue=n.hasNegativeValueInTargets(u),n.hasPositiveValue=n.hasPositiveValueInTargets(u),a.data_type&&n.setTargetType(n.mapToIds(u).filter(function(t){return!(t in a.data_types)}),a.data_type),u.forEach(function(t){return n.addCache(t.id_org,t,!0)}),u}})},function(t,e){t.exports=s},function(t,e,i){"use strict";var n=r(i(14)),a=r(i(3));function r(t){return t&&t.__esModule?t:{default:t}}(0,i(11).extend)(a.default.prototype,{load:function(t,e){var i=this,n=t;n&&(e.filter&&(n=n.filter(e.filter)),(e.type||e.types)&&n.forEach(function(t){var n=e.types&&e.types[t.id]||e.type;i.setTargetType(t.id,n)}),i.data.targets.forEach(function(t){for(var e=0;e<n.length;e++)if(t.id===n[e].id){t.values=n[e].values,n.splice(e,1);break}}),i.data.targets=i.data.targets.concat(n)),i.updateTargets(i.data.targets),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},loadFromArgs:function(t){var e=this,i=void 0;e.resetCache(),t.data?i=t.data:t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,function(i){e.load(e.convertDataToTargets(i),t)}):t.json?i=e.convertJsonToData(t.json,t.keys):t.rows?i=e.convertRowsToData(t.rows):t.columns&&(i=e.convertColumnsToData(t.columns)),e.load(i?e.convertDataToTargets(i):null,t)},unload:function(t,e){var i=this,a=e,r=t;return i.resetCache(),a||(a=function(){}),(r=r.filter(function(t){return i.hasTarget(i.data.targets,t)}))&&0!==r.length?(i.svg.selectAll(r.map(function(t){return i.selectorTarget(t)})).transition().style("opacity","0").remove().call(i.endall,a),void r.forEach(function(t){i.withoutFadeIn[t]=!1,i.legend&&i.legend.selectAll("."+n.default.legendItem+i.getTargetSelectorSuffix(t)).remove(),i.data.targets=i.data.targets.filter(function(e){return e.id!==t})})):void a()}})},function(t,e,i){"use strict";var n,a=i(3),r=(n=a)&&n.__esModule?n:{default:n};(0,i(11).extend)(r.default.prototype,{categoryName:function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t}})},function(t,e,i){"use strict";var n=i(5),a=i(28),r=l(i(3)),o=l(i(14)),s=i(11);function l(t){return t&&t.__esModule?t:{default:t}}(0,s.extend)(r.default.prototype,{initEventRect:function(){this.main.select("."+o.default.chart).append("g").attr("class",o.default.eventRects).style("fill-opacity","0")},redrawEventRect:function(){var t=this,e=t.config,i=e.zoom_enabled,n=t.isMultipleX(),a=void 0,r=t.main.select("."+o.default.eventRects).style("cursor",!i||!0!==i&&"wheel"!==i.type?null:e.axis_rotate?"ns-resize":"ew-resize").classed(o.default.eventRectsMultiple,n).classed(o.default.eventRectsSingle,!n);if(r.selectAll("."+o.default.eventRect).remove(),t.eventRect=r.selectAll("."+o.default.eventRect),n)a=t.eventRect.data([0]),a=t.generateEventRectsForMultipleXs(a.enter()).merge(a);else{var s=t.getMaxDataCountTarget(t.data.targets);r.datum(s?s.values:[]),t.eventRect=r.selectAll("."+o.default.eventRect),(a=t.eventRect.data(function(t){return t})).exit().remove(),a=t.generateEventRectsForSingleX(a.enter()).merge(a)}t.updateEventRect(a),"touch"!==t.inputType||t.svg.on("touchstart.eventRect")||t.hasArcType()||t.bindTouchOnEventRect(n)},bindTouchOnEventRect:function(t){var e=this,i=e.config,a=function(){var t=n.event.changedTouches[0];return(0,n.select)(document.elementFromPoint(t.clientX,t.clientY))},r=function(t){var e=t&&t.attr("class")&&1*t.attr("class").replace(new RegExp("("+o.default.eventRect+"-?|s)","g"),"");return(isNaN(e)||null===e)&&(e=-1),e},l=i.interaction_inputType_touch.preventDefault,c=(0,s.isBoolean)(l)&&l||!1,u=!isNaN(l)&&l||null,d=void 0;e.svg.on("touchstart.eventRect touchmove.eventRect",function(){var s,l,f,g=a();if(!g.empty()&&g.classed(o.default.eventRect)){if(e.dragging||e.flowing||e.hasArcType())return;s=n.event,l=s.type,f=s.changedTouches[0]["client"+(i.axis_rotated?"Y":"X")],"touchstart"===l?c?s.preventDefault():null!==u&&(d=f):"touchmove"===l&&(c||!0===d||null!==u&&Math.abs(d-f)>=u)&&(d=!0,s.preventDefault()),function(i){if(t)e.selectRectForMultipleXs(i);else{var n=a(),o=r(n);e.setOver(o),-1===o?e.unselectRect():e.selectRectForSingle(i,n,o)}}(this)}else e.unselectRect()}).on("touchend.eventRect",function(){var n=a();if(!n.empty()&&n.classed(o.default.eventRect)){if(e.hasArcType()||!e.toggleShape||e.cancelClick)return void(e.cancelClick&&(e.cancelClick=!1));var s=r(n);t||-1===s||e.main.selectAll("."+o.default.shape+"-"+s).each(function(t){return i.data_onout.call(e.api,t)})}})},updateEventRect:function(t){var e=this,i=e.config,n=e.zoomScale||e.x,a=t||e.eventRect.data(),r=i.axis_rotated,o=void 0,s=void 0,l=void 0,c=void 0;if(e.isMultipleX())o=0,s=0,l=e.width,c=e.height;else{var u=void 0,d=void 0;if(e.isCategorized())u=e.getEventRectWidth(),d=function(t){return n(t.x)-u/2};else{e.updateXs();var f=function(t){var i=t.index;return{prev:e.getPrevX(i),next:e.getNextX(i)}};u=function(t){var i=f(t);return null===i.prev&&null===i.next?r?e.height:e.width:(null===i.prev&&(i.prev=n.domain()[0]),null===i.next&&(i.next=n.domain()[1]),Math.max(0,(n(i.next)-n(i.prev))/2))},d=function(t){var i=f(t),a=e.data.xs[t.id][t.index];return null===i.prev&&null===i.next?0:(null===i.prev&&(i.prev=n.domain()[0]),(n(a)+n(i.prev))/2)}}o=r?0:d,s=r?d:0,l=r?e.width:u,c=r?u:e.height}a.attr("class",e.classEvent.bind(e)).attr("x",o).attr("y",s).attr("width",l).attr("height",c)},selectRectForSingle:function(t,e,i){var a=this,r=a.config,s=r.data_selection_enabled,l=r.data_selection_grouped,c=r.tooltip_grouped,u=a.getAllValuesOnIndex(i);c&&(a.showTooltip(u,t),a.showXGridFocus(u),!s||l)||a.main.selectAll("."+o.default.shape+"-"+i).each(function(){(0,n.select)(this).classed(o.default.EXPANDED,!0),s&&e.style("cursor",l?"pointer":null),c||(a.hideXGridFocus(),a.hideTooltip(),!l&&a.expandCirclesBars(i))}).filter(function(t){return a.isWithinShape(this,t)}).call(function(n){var o=n.data();s&&(l||r.data_selection_isselectable(o))&&e.style("cursor","pointer"),c||(a.showTooltip(o,t),a.showXGridFocus(o),a.unexpandCircles(),n.each(function(t){return a.expandCirclesBars(i,t.id)}))})},expandCirclesBars:function(t,e,i){this.config.point_focus_expand_enabled&&this.expandCircles(t,e,i),this.expandBars(t,e,i)},selectRectForMultipleXs:function(t){var e=this,i=e.config,a=e.filterTargetsToShow(e.data.targets);if(!e.dragging&&!e.hasArcType(a)){var r=(0,n.mouse)(t),s=e.findClosestFromTargets(a,r);if(e.mouseover&&(!s||s.id!==e.mouseover.id)&&(i.data_onout.call(e.api,e.mouseover),e.mouseover=void 0),!s)return void e.unselectRect();var l=(e.isBubbleType(s)||e.isScatterType(s)||!i.tooltip_grouped?[s]:e.filterByX(a,s.x)).map(function(t){return e.addName(t)});e.showTooltip(l,t),e.expandCirclesBars(s.index,s.id,!0),e.showXGridFocus(l),(e.isBarType(s.id)||e.dist(s,r)<i.point_sensitivity)&&(e.svg.select("."+o.default.eventRect).style("cursor","pointer"),!e.mouseover&&(i.data_onover.call(e.api,s),e.mouseover=s))}},unselectRect:function(){var t=this;t.svg.select("."+o.default.eventRect).style("cursor",null),t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars()},setOver:function(t){var e=this,i=e.config;e.expandCirclesBars(t,null,!0),-1!==t&&e.main.selectAll("."+o.default.shape+"-"+t).each(function(t){return i.data_onover.call(e.api,t)})},getDraggableSelection:function(){var t=this,e=t.config;return e.interaction_enabled&&e.data_selection_draggable&&t.drag?(0,a.drag)().on("drag",function(){t.drag((0,n.mouse)(this))}).on("start",function(){t.dragstart((0,n.mouse)(this))}).on("end",function(){t.dragend()}):function(){}},generateEventRectsForSingleX:function(t){var e=this,i=e.config,a=t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",i.data_selection_enabled&&i.data_selection_grouped?"pointer":null).on("click",function(t){e.clickHandlerForSingleX.bind(this)(t,e)}).call(e.getDraggableSelection());return"mouse"===e.inputType&&a.on("mouseover",function(t){e.dragging||e.flowing||e.hasArcType()||e.setOver(t.index)}).on("mousemove",function(t){if(!(e.dragging||e.flowing||e.hasArcType())){var i=t.index,a=e.svg.select("."+o.default.eventRect+"-"+i);e.isStepType(t)&&"step-after"===e.config.line_step_type&&(0,n.mouse)(this)[0]<e.x(e.getXValue(t.id,i))&&(i-=1),-1===i?e.unselectRect():e.selectRectForSingle(this,a,i)}}).on("mouseout",function(t){if(e.config&&!e.hasArcType()){var n=t.index;e.unselectRect(),e.main.selectAll("."+o.default.shape+"-"+n).each(function(t){return i.data_onout.call(e.api,t)})}}),a},clickHandlerForSingleX:function(t,e){var i=e,n=i.config;if(i.hasArcType()||!i.toggleShape||i.cancelClick)i.cancelClick&&(i.cancelClick=!1);else{var a=t.index;i.main.selectAll("."+o.default.shape+"-"+a).each(function(t){(n.data_selection_grouped||i.isWithinShape(this,t))&&(i.toggleShape(this,t,a),n.data_onclick.call(i.api,t,this))})}},generateEventRectsForMultipleXs:function(t){var e=this,i=t.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).attr("class",o.default.eventRect).on("click",function(){e.clickHandlerForMultipleXS.bind(this)(e)}).call(e.getDraggableSelection());return"mouse"===e.inputType&&i.on("mouseover mousemove",function(){e.selectRectForMultipleXs(this)}).on("mouseout",function(){!e.config||e.hasArcType()||e.unselectRect()}),i},clickHandlerForMultipleXS:function(t){var e=t,i=e.config,a=e.filterTargetsToShow(e.data.targets);if(!e.hasArcType(a)){var r=(0,n.mouse)(this),s=e.findClosestFromTargets(a,r);!s||(e.isBarType(s.id)||e.dist(s,r)<i.point_sensitivity)&&e.main.selectAll("."+o.default.shapes+e.getTargetSelectorSuffix(s.id)).selectAll("."+o.default.shape+"-"+s.index).each(function(){(i.data_selection_grouped||e.isWithinShape(this,s))&&(e.toggleShape(this,s,s.index),i.data_onclick.call(e.api,s,this))})}},dispatchEvent:function(t,e,i){var n="."+(this.isMultipleX()?o.default.eventRect:o.default.eventRect+"-"+e),a=this.main.select(n).node(),r=a.getBoundingClientRect(),l=r.left+(i?i[0]:0)+r.width/2,c=r.top+(i?i[1]:0);s.emulateEvent[/^(mouse|click)/.test(t)?"mouse":"touch"](a,t,{screenX:l,screenY:c,clientX:l,clientY:c})}})},function(t,e){t.exports=l},function(t,e,i){"use strict";var n=o(i(3)),a=o(i(14)),r=i(11);function o(t){return t&&t.__esModule?t:{default:t}}(0,r.extend)(n.default.prototype,{getCurrentWidth:function(){return this.config.size_width||this.getParentWidth()},getCurrentHeight:function(){var t=this.config,e=t.size_height||this.getParentHeight();return e>0?e:320/(this.hasType("gauge")&&!t.gauge_fullCircle?2:1)},getCurrentPaddingTop:function(){var t=this.config,e=(0,r.isValue)(t.padding_top)?t.padding_top:0;return this.title&&this.title.node()&&(e+=this.getTitlePadding()),e},getCurrentPaddingBottom:function(){var t=this.config;return(0,r.isValue)(t.padding_bottom)?t.padding_bottom:0},getCurrentPaddingLeft:function(t){var e=this.config;return(0,r.isValue)(e.padding_left)?e.padding_left:e.axis_rotated?e.axis_x_show?Math.max((0,r.ceil10)(this.getAxisWidthByAxisId("x",t)),40):1:!e.axis_y_show||e.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:(0,r.ceil10)(this.getAxisWidthByAxisId("y",t))},getCurrentPaddingRight:function(){var t=this,e=t.config,i=t.isLegendRight?t.getLegendWidth()+20:0;return(0,r.isValue)(e.padding_right)?e.padding_right+1:e.axis_rotated?10+i:!e.axis_y2_show||e.axis_y2_inner?2+i+(t.axis.getY2AxisLabelPosition().isOuter?20:0):(0,r.ceil10)(t.getAxisWidthByAxisId("y2"))+i},getParentRectValue:function(t){for(var e="offset"+(0,r.capitalize)(t),i=this.selectChart.node(),n=void 0;!n&&i&&"BODY"!==i.tagName;){try{n=i.getBoundingClientRect()[t]}catch(t){e in i&&(n=i[e])}i=i.parentNode}if("width"===t){var a=document.body.offsetWidth;n>a&&(n=a)}return n},getParentWidth:function(){return this.getParentRectValue("width")},getParentHeight:function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},getSvgLeft:function(t){var e=this,i=e.config,n=i.axis_rotated||!i.axis_rotated&&!i.axis_y_inner,r=i.axis_rotated?a.default.axisX:a.default.axisY,o=e.main.select("."+r).node(),s=o&&n?o.getBoundingClientRect():{right:0},l=e.selectChart.node().getBoundingClientRect(),c=e.hasArcType(),u=s.right-l.left-(c?0:e.getCurrentPaddingLeft(t));return u>0?u:0},getAxisWidthByAxisId:function(t,e){var i=this.axis.getLabelPositionById(t);return this.axis.getMaxTickWidth(t,e)+(i.isInner?20:40)},getHorizontalAxisHeight:function(t){var e=this,i=e.config,n=30;return"x"!==t||i.axis_x_show?"x"===t&&i.axis_x_height?i.axis_x_height:"y"!==t||i.axis_y_show?"y2"!==t||i.axis_y2_show?("x"===t&&!i.axis_rotated&&i.axis_x_tick_rotate&&(n=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-i.axis_x_tick_rotate)/180)),"y"===t&&i.axis_rotated&&i.axis_y_tick_rotate&&(n=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-i.axis_y_tick_rotate)/180)),n+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!i.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},getEventRectWidth:function(){return Math.max(0,this.xAxis.tickInterval())}})},function(t,e,i){"use strict";var n=i(31),a=i(5),r=l(i(14)),o=l(i(3)),s=i(11);function l(t){return t&&t.__esModule?t:{default:t}}(0,s.extend)(o.default.prototype,{getShapeIndices:function(t){var e=this.config,i={},n=0;return this.filterTargetsToShow(this.data.targets.filter(t,this)).forEach(function(t){for(var a,r=0;a=e.data_groups[r];r++)if(!(a.indexOf(t.id)<0))for(var o,l=0;o=a[l];l++)if(o in i){i[t.id]=i[o];break}(0,s.isUndefined)(i[t.id])&&(i[t.id]=n++)}),i.__max__=n-1,i},getShapeX:function(t,e,i,n){var a=n?this.subX:this.zoomScale||this.x,r=this.config.bar_padding;return function(n){var o=n.id in i?i[n.id]:0,s=n.x||0===n.x?a(n.x)-t*(e/2-o):0;return t&&s&&e>1&&r&&(o&&(s+=r*o),e>2?s-=(e-1)*r/2:2===e&&(s-=r/2)),s}},getShapeY:function(t){var e=this;return function(i){return(t?e.getSubYScale(i.id):e.getYScale(i.id))(i.value)}},getShapeOffset:function(t,e,i){var n=this,a=n.orderTargets(n.filterTargetsToShow(n.data.targets.filter(t,n))),r=a.map(function(t){return t.id});return function(t,o){var l=i?n.getSubYScale(t.id):n.getYScale(t.id),c=l(0),u=c,d=o;return a.forEach(function(i){var a=n.isStepType(t)?n.convertValuesToStep(i.values):i.values;i.id===t.id||e[i.id]!==e[t.id]||r.indexOf(i.id)<r.indexOf(t.id)&&(((0,s.isUndefined)(a[d])||+a[d].x!=+t.x)&&(d=-1,a.forEach(function(e,i){(e.x.constructor===Date?+e.x:e.x)===(t.x.constructor===Date?+t.x:t.x)&&(d=i)})),d in a&&a[d].value*t.value>=0&&(u+=l(a[d].value)-c))}),u}},isWithinShape:function(t,e){var i=this,n=(0,a.select)(t),o=void 0;return i.isTargetToShow(e.id)?i.hasValidPointType(t.nodeName)?o=i.isStepType(e)?i.isWithinStep(t,i.getYScale(e.id)(e.value)):i.isWithinCircle(t,1.5*i.pointSelectR(e)):"path"===t.nodeName&&(o=!n.classed(r.default.bar)||i.isWithinBar(t)):o=!1,o},getInterpolate:function(t){var e=this.getInterpolateType(t);return{basis:n.curveBasis,"basis-closed":n.curveBasisClosed,"basis-open":n.curveBasisOpen,bundle:n.curveBundle,cardinal:n.curveCardinal,"cardinal-closed":n.curveCardinalClosed,"cardinal-open":n.curveCardinalOpen,"catmull-rom":n.curveCatmullRom,"catmull-rom-closed":n.curveCatmullRomClosed,"catmull-rom-open":n.curveCatmullRomOpen,"monotone-x":n.curveMonotoneX,"monotone-y":n.curveMonotoneY,natural:n.curveNatural,"linear-closed":n.curveLinearClosed,linear:n.curveLinear,step:n.curveStep,"step-after":n.curveStepAfter,"step-before":n.curveStepBefore}[e]},getInterpolateType:function(t){var e=this,i=e.config.spline_interpolation_type,n=e.isInterpolationType(i)?i:"cardinal";return e.isSplineType(t)?n:e.isStepType(t)?e.config.line_step_type:"linear"}})},function(t,e){t.exports=c},function(t,e,i){"use strict";var n=i(5),a=i(31),r=i(6),o=i(33),s=u(i(3)),l=u(i(14)),c=i(11);function u(t){return t&&t.__esModule?t:{default:t}}(0,c.extend)(s.default.prototype,{initPie:function(){var t=this.config,e=t.pie_padding,i=this.hasType("pie")&&e?.01*e:t[t.data_type+"_padAngle"]?t[t.data_type+"_padAngle"]:0;this.pie=(0,a.pie)().padAngle(i).value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),t.data_order||this.pie.sort(null)},updateRadius:function(){var t=this,e=t.config,i=e.pie_innerRadius,n=e.pie_padding,a=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=a?(t.radius-a)/t.radius:.6;var r=i||(n?n*(t.innerRadiusRatio+.1):0);t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:r},updateArc:function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},updateAngle:function(t){var e=this,i=e.config,n=t,a=!1,r=0,o=void 0,s=void 0,l=void 0,c=void 0;return i?(e.pie(e.filterTargetsToShow(e.data.targets)).forEach(function(t){a||t.data.id!==n.data.id||(a=!0,(n=t).index=r),r++}),isNaN(n.startAngle)&&(n.startAngle=0),isNaN(n.endAngle)&&(n.endAngle=n.startAngle),e.isGaugeType(n.data)&&(o=i.gauge_min,s=i.gauge_max,l=Math.PI*(i.gauge_fullCircle?2:1)/(s-o),c=n.value<o?0:n.value<s?n.value-o:s-o,n.startAngle=i.gauge_startingAngle,n.endAngle=n.startAngle+l*c),a?n:null):null},getSvgArc:function(){var t=this,e=(0,a.arc)().outerRadius(t.radius).innerRadius(t.innerRadius),i=function(i,n){if(n)return e(i);var a=t.updateAngle(i);return a?e(a):"M 0 0"};return i.centroid=e.centroid,i},getSvgArcExpanded:function(t){var e=this,i=(0,a.arc)().outerRadius(e.radiusExpanded*(t||1)).innerRadius(e.innerRadius);return function(t){var n=e.updateAngle(t);return n?i(n):"M 0 0"}},getArc:function(t,e,i){return i||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},transformForArcLabel:function(t){var e=this,i=e.config,n=e.updateAngle(t),a="";if(n&&!e.hasType("gauge")){var r=this.svgArc.centroid(n),o=isNaN(r[0])?0:r[0],s=isNaN(r[1])?0:r[1],l=Math.sqrt(o*o+s*s),u=e.hasType("donut")&&i.donut_label_ratio||e.hasType("pie")&&i.pie_label_ratio;a="translate("+o*(u=u?(0,c.isFunction)(u)?u(t,e.radius,l):u:e.radius&&(l?(36/e.radius>.375?1.175-36/e.radius:.8)*e.radius/l:0))+","+s*u+")"}return a},getArcRatio:function(t){var e=this,i=e.config,n=null;if(t)if(e.pie.padAngle()()){var a=e.getTotalDataSum();e.hiddenTargetIds.length&&(a-=(0,r.sum)(e.api.data.values.call(e.api,e.hiddenTargetIds))),n=t.value/a}else n=(t.endAngle-t.startAngle)/(Math.PI*(e.hasType("gauge")&&!i.gauge_fullCircle?1:2));return n},convertToArcData:function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},textForArcLabel:function(t){var e=this,i=t.node?t.datum():t;if(!e.shouldShowArcLabel())return"";var n=e.updateAngle(i),a=n?n.value:null,r=e.getArcRatio(n),o=i.data.id;if(!e.hasType("gauge")&&!e.meetsArcLabelThreshold(r))return"";var s=(e.getArcLabelFormat()||e.defaultArcValueFormat)(a,r,o).toString();if(t.node)if(-1===s.indexOf("\n"))t.text(s);else{var l=s.split("\n"),c=l.length-1;l.forEach(function(e,i){t.append("tspan").attr("x",0).attr("dy",(0===i?-c:1)+"em").text(e)})}return s},textForGaugeMinMax:function(t,e){var i=this.getGaugeLabelExtents();return i?i(t,e):t},expandArc:function(t){var e=this,i=void 0;if(e.transiting)i=window.setInterval(function(){e.transiting||(window.clearInterval(i),e.legend.selectAll("."+l.default.legendItemFocused).size()>0&&e.expandArc(t))},10);else{var a=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(a,"."+l.default.chartArc)).each(function(t){e.shouldExpand(t.data.id)&&(0,n.select)(this).selectAll("path").transition().duration(e.expandDuration(t.data.id)).attr("d",e.svgArcExpanded).transition().duration(2*e.expandDuration(t.data.id)).attr("d",e.svgArcExpandedSub)})}},unexpandArc:function(t){var e=this;if(!e.transiting){var i=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(i,"."+l.default.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll(""+l.default.arc).style("opacity","1")}},expandDuration:function(t){var e=this.config;return this.isDonutType(t)?e.donut_expand_duration:this.isGaugeType(t)?e.gauge_expand_duration:this.isPieType(t)?e.pie_expand_duration:50},shouldExpand:function(t){var e=this.config;return this.isDonutType(t)&&e.donut_expand||this.isGaugeType(t)&&e.gauge_expand||this.isPieType(t)&&e.pie_expand},shouldShowArcLabel:function(){var t=this.config,e=!0;return this.hasType("donut")?e=t.donut_label_show:this.hasType("pie")&&(e=t.pie_label_show),e},meetsArcLabelThreshold:function(t){var e=this.config;return t>=(this.hasType("donut")?e.donut_label_threshold:e.pie_label_threshold)},getArcLabelFormat:function(){var t=this.config,e=t.pie_label_format;return this.hasType("gauge")?e=t.gauge_label_format:this.hasType("donut")&&(e=t.donut_label_format),e},getGaugeLabelExtents:function(){return this.config.gauge_label_extents},getArcTitle:function(){return this.hasType("donut")?this.config.donut_title:""},updateTargetsForArc:function(t){var e=this,i=e.main,n=e.classChartArc.bind(e),a=e.classArcs.bind(e),r=e.classFocus.bind(e),o=i.select("."+l.default.chartArcs).selectAll("."+l.default.chartArc).data(e.pie(t)).attr("class",function(t){return n(t)+r(t.data)}),s=o.enter().append("g").attr("class",n);s.append("g").attr("class",a).merge(o),s.append("text").attr("dy",e.hasType("gauge")?"-.1em":".35em").style("opacity","0").style("text-anchor","middle").style("pointer-events","none")},initArc:function(){this.arcs=this.main.select("."+l.default.chart).append("g").attr("class",l.default.chartArcs).attr("transform",this.getTranslate("arc")),this.setArcTitle()},setArcTitle:function(){var t=this.getArcTitle();if(t){var e=t.split("\n"),i=this.arcs.append("text").attr("class",l.default.chartArcsTitle).style("text-anchor","middle");if(e.length>1){var n=+i.style("font-size").replace("px",""),a=Math.floor(i.text(".").node().getBBox().height,i.text(""));e.forEach(function(t,e){return i.insert("tspan").text(t).attr("x",0).attr("dy",e?a:0)}),i.attr("y","-"+(n*(e.length-2)||n/2))}else i.text(t)}},redrawArc:function(t,e,i){function a(t,e,i){s.expandArc(i),s.api.focus(i),s.toggleFocusLegend(i,!0),s.showTooltip([e],t)}function r(t){var e=t&&t.id||void 0;s.unexpandArc(e),s.api.revert(),s.revertLegend(),s.hideTooltip()}var s=this,c=s.config,u=s.main,d="touch"===s.inputType,f="mouse"===s.inputType,g=u.selectAll("."+l.default.arcs).selectAll("."+l.default.arc).data(s.arcData.bind(s));if(g.exit().transition().duration(e).style("opacity","0").remove(),(g=g.enter().append("path").attr("class",s.classArc.bind(s)).style("fill",function(t){return s.color(t.data)}).style("cursor",function(t){return c.interaction_enabled&&(c.data_selection_isselectable(t)?"pointer":null)}).style("opacity","0").each(function(t){s.isGaugeType(t.data)&&(t.startAngle=c.gauge_startingAngle,t.endAngle=c.gauge_startingAngle),this._current=t}).merge(g)).attr("transform",function(t){return!s.isGaugeType(t.data)&&i?"scale(0)":""}).style("opacity",function(t){return t===this._current?"0":"1"}).each(function(){s.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e=s.updateAngle(t);if(!e)return function(){return"M 0 0"};isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle);var i=(0,o.interpolate)(this._current,e);return this._current=i(0),function(e){var n=i(e);return n.data=t.data,s.getArc(n,!0)}}).attr("transform",i?"scale(1)":"").style("fill",function(t){return s.levelColor?s.levelColor(t.data.values[0].value):s.color(t.data.id)}).style("opacity","1").call(s.endall,function(){s.transiting=!1}),c.interaction_enabled&&(g.on("click",function(t,e){var i=s.updateAngle(t),n=void 0;i&&(n=s.convertToArcData(i),s.toggleShape&&s.toggleShape(this,n,e),s.config.data_onclick.call(s.api,n,this))}),f&&g.on("mouseover",function(t){if(!s.transiting){var e=s.updateAngle(t),i=e?s.convertToArcData(e):null;a(this,i,i&&i.id||void 0),s.config.data_onover(i,this)}}).on("mouseout",function(t){if(!s.transiting){var e=s.updateAngle(t),i=e?s.convertToArcData(e):null;r(),s.config.data_onout(i,this)}}).on("mousemove",function(t){var e=s.updateAngle(t),i=e?s.convertToArcData(e):null;s.showTooltip([i],this)}),d&&s.hasArcType())){var h=function(){var t=n.event.changedTouches[0];return(0,n.select)(document.elementFromPoint(t.clientX,t.clientY))};s.svg.on("touchstart",function(){if(!s.transiting){var t=h().datum(),e=t&&t.data&&t.data.id?s.updateAngle(t):null,i=e?s.convertToArcData(e):null,n=i&&i.id||void 0;void 0===n?r():a(this,i,n),s.config.data_onover(i,this)}}).on("touchend",function(){if(!s.transiting){var t=h().datum(),e=t&&t.data&&t.data.id?s.updateAngle(t):null,i=e?s.convertToArcData(e):null,n=i&&i.id||void 0;void 0===n?r():a(this,i,n),s.config.data_onout(i,this)}}).on("touchmove",function(){var t=h().datum(),e=t&&t.data&&t.data.id?s.updateAngle(t):null,i=e?s.convertToArcData(e):null,n=i&&i.id||void 0;void 0===n?r():a(this,i,n)})}var p=u.selectAll("."+l.default.chartArc).select("text").style("opacity","0").attr("class",function(t){return s.isGaugeType(t.data)?l.default.gaugeValue:""});if(c.gauge_fullCircle&&p.attr("dy",""+Math.round(s.radius/14)),p[!p.empty()&&p.classed(l.default.gaugeValue)?"call":"text"](s.textForArcLabel.bind(s)).attr("transform",s.transformForArcLabel.bind(s)).style("font-size",function(t){return s.isGaugeType(t.data)?Math.round(s.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return s.isTargetToShow(t.data.id)&&s.isArcType(t.data)?"1":"0"}),u.select("."+l.default.chartArcsTitle).style("opacity",s.hasType("donut")||s.hasType("gauge")?"1":"0"),s.hasType("gauge")){var x=(c.gauge_fullCircle?-4:-1)*c.gauge_startingAngle;s.arcs.select("."+l.default.chartArcsBackground).attr("d",function(){var t={data:[{value:c.gauge_max}],startAngle:c.gauge_startingAngle,endAngle:x};return s.getArc(t,!0,!0)}),s.arcs.select("."+l.default.chartArcsGaugeUnit).attr("dy",".75em").text(c.gauge_label_show?c.gauge_units:""),c.gauge_label_show&&(s.arcs.select("."+l.default.chartArcsGaugeMin).attr("dx",-1*(s.innerRadius+(s.radius-s.innerRadius)/(c.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(s.textForGaugeMinMax(c.gauge_min,!1)),!c.gauge_fullCircle&&s.arcs.select("."+l.default.chartArcsGaugeMax).attr("dx",s.innerRadius+(s.radius-s.innerRadius)/2+"px").attr("dy","1.2em").text(s.textForGaugeMinMax(c.gauge_max,!0)))}},initGauge:function(){var t=this.config,e=this.arcs;this.hasType("gauge")&&(e.append("path").attr("class",l.default.chartArcsBackground),e.append("text").attr("class",l.default.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.gauge_label_show&&(e.append("text").attr("class",l.default.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),!t.gauge_fullCircle&&e.append("text").attr("class",l.default.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none")))},getGaugeLabelHeight:function(){return this.config.gauge_label_show?20:0}})},function(t,e){t.exports=u},function(t,e,i){"use strict";var n=i(5),a=s(i(14)),r=s(i(3)),o=i(11);function s(t){return t&&t.__esModule?t:{default:t}}(0,o.extend)(r.default.prototype,{initBar:function(){this.main.select("."+a.default.chart).append("g").attr("class",a.default.chartBars)},updateTargetsForBar:function(t){var e=this,i=e.config,n=e.classChartBar.bind(e),r=e.classBars.bind(e),o=e.classFocus.bind(e);e.main.select("."+a.default.chartBars).selectAll("."+a.default.chartBar).data(t).attr("class",function(t){return n(t)+o(t)}).enter().append("g").attr("class",n).style("opacity","0").style("pointer-events","none").append("g").attr("class",r).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null})},updateBar:function(t){var e=this,i=e.barData.bind(e),n=e.classBar.bind(e),r=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+a.default.bars).selectAll("."+a.default.bar).data(i),e.mainBar.exit().transition().duration(t).style("opacity","0").remove(),e.mainBar=e.mainBar.enter().append("path").attr("class",n).style("stroke",o).style("fill",o).merge(e.mainBar).style("opacity",r)},redrawBar:function(t,e){return[(e?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",t).style("fill",this.color).style("opacity","1")]},getBarW:function(t,e){var i=this.config,n=(0,o.isNumber)(i.bar_width)?i.bar_width:e?t.tickInterval(this.getMaxDataCount())*i.bar_width_ratio/e:0;return i.bar_width_max&&n>i.bar_width_max?i.bar_width_max:n},getBars:function(t,e){var i=(0,o.isValue)(t)?"-"+t:"";return(e?this.main.selectAll("."+a.default.bars+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+a.default.bar+i)},expandBars:function(t,e,i){i&&this.unexpandBars(),this.getBars(t,e).classed(a.default.EXPANDED,!0)},unexpandBars:function(t){this.getBars(t).classed(a.default.EXPANDED,!1)},generateDrawBar:function(t,e){var i=this.config,n=this.generateGetBarPoints(t,e),a=i.axis_rotated,r=i.data_groups.length,s=i.bar_radius,l=i.bar_radius_ratio,c=(0,o.isNumber)(s)&&s>0?function(){return s}:(0,o.isNumber)(l)?function(t){return t*l}:null;return function(t,e){var i=n(t,e),o=+a,s=+!o,l=t.value<0,u=["",""],d=0;if(c&&!r){var f=a?s:o,g=i[2][f]-i[0][f],h="a"+(d=c(g))+","+d+" "+(l?"1 0 0":"0 0 1")+" ";u[+!a]=""+h+d+","+d,u[+a]=""+h+[-d,d][a?"sort":"reverse"](),l&&u.reverse()}var p=a?"H"+(i[1][o]-d)+" "+u[0]+"V"+(i[2][s]-d)+" "+u[1]+"H"+i[3][o]:"V"+(i[1][s]+(l?-d:d))+" "+u[0]+"H"+(i[2][o]-d)+" "+u[1]+"V"+i[3][s];return"M"+i[0][o]+","+i[0][s]+p+"z"}},generateGetBarPoints:function(t,e){var i=this,n=e?i.subXAxis:i.xAxis,a=t.__max__+1,r=i.getBarW(n,a),o=i.getShapeX(r,a,t,!!e),s=i.getShapeY(!!e),l=i.getShapeOffset(i.isBarType,t,!!e),c=e?i.getSubYScale:i.getYScale;return function(t,e){var n=c.call(i,t.id)(0),a=l(t,e)||n,u=o(t),d=s(t);return i.config.axis_rotated&&(t.value>0&&d<n||t.value<0&&n<d)&&(d=n),[[u,a],[u,d-(n-a)],[u+r,d-(n-a)],[u+r,a]]}},isWithinBar:function(t){var e=(0,n.mouse)(t),i=(0,o.getRectSegList)(t),a=t.getBBox(),r=i[0],s=i[1],l=Math.min(r.x,s.x),c=Math.min(r.y,s.y),u=a.width,d=a.height;return l-2<e[0]&&e[0]<l+u+2&&c-2<e[1]&&e[1]<c+d+2}})},function(t,e,i){"use strict";var n,a=i(6),r=i(3),o=(n=r)&&n.__esModule?n:{default:n},s=i(11);(0,s.extend)(o.default.prototype,{initBubble:function(){var t=this.config;this.hasType("bubble")&&(t.point_show=!0,t.point_type="circle",t.point_sensitivity=25)},getBaseLength:function(){var t=this.getCache("$baseLength");return t||this.addCache("$baseLength",t=(0,a.min)([this.axes.x.select("path").node().getTotalLength(),this.axes.y.select("path").node().getTotalLength()])),t},getBubbleR:function(t){var e=this.config.bubble_maxR;(0,s.isFunction)(e)?e=e(t):!(0,s.isNumber)(e)&&(e=this.getBaseLength()/(2*this.getMaxDataCount())+12);var i=(0,a.max)(this.getMinMaxData().max.map(function(t){return(0,s.isObject)(t.value)?t.value.mid:t.value})),n=e*e*Math.PI,r=t.value*(n/i);return Math.sqrt(r/Math.PI)}})},function(t,e,i){"use strict";var n=i(31),a=i(5),r=l(i(14)),o=l(i(3)),s=i(11);function l(t){return t&&t.__esModule?t:{default:t}}(0,s.extend)(o.default.prototype,{initLine:function(){this.main.select("."+r.default.chart).append("g").attr("class",r.default.chartLines)},updateTargetsForLine:function(t){var e=this,i=e.config,n=e.classChartLine.bind(e),a=e.classLines.bind(e),o=e.classAreas.bind(e),s=e.classCircles.bind(e),l=e.classFocus.bind(e),c=e.main.select("."+r.default.chartLines).selectAll("."+r.default.chartLine).data(t).attr("class",function(t){return n(t)+l(t)}).enter().append("g").attr("class",n).style("opacity","0").style("pointer-events","none");c.append("g").attr("class",a),c.append("g").attr("class",o),i.point_show&&(i.data_selection_enabled&&c.append("g").attr("class",function(t){return e.generateClass(r.default.selectedCircles,t.id)}),c.append("g").attr("class",s).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null})),t.forEach(function(t){e.main.selectAll("."+r.default.selectedCircles+e.getTargetSelectorSuffix(t.id)).selectAll(""+r.default.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},updateLine:function(t){var e=this;e.mainLine=e.main.selectAll("."+r.default.lines).selectAll("."+r.default.line).data(e.lineData.bind(e)),e.mainLine.exit().transition().duration(t).style("opacity","0").remove(),e.mainLine=e.mainLine.enter().append("path").attr("class",function(t){return e.classLine.bind(e)(t)+" "+(e.extraLineClasses(t)||"")}).style("stroke",e.color).merge(e.mainLine).style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null)},redrawLine:function(t,e){return[(e?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity","1")]},getCurve:function(t){var e=this;return e.config.axis_rotated&&e.isStepType(t)?function(i){var n=e.getInterpolate(t)(i);return n.orgPoint=n.point,n.pointRotated=function(t,e){1===this._point&&(this._point=2);var i=this._y*(1-this._t)+e*this._t;this._context.lineTo(this._x,i),this._context.lineTo(t,i),this._x=t,this._y=e},n.point=function(t,e){0===this._point?this.orgPoint(t,e):this.pointRotated(t,e)},n}:e.getInterpolate(t)},generateDrawLine:function(t,e){var i=this,a=i.config,r=a.line_connectNull,o=a.axis_rotated,s=i.generateGetLinePoints(t,e),l=e?i.getSubYScale:i.getYScale,c=function(t){return(e?i.subxx:i.xx).call(i,t)},u=function(t,e){return a.data_groups.length>0?s(t,e)[0][1]:l.call(i,t.id)(i.getBaseValue(t))},d=(0,n.line)();return d=o?d.x(u).y(c):d.x(c).y(u),r||(d=d.defined(function(t){return null!==i.getBaseValue(t)})),function(t){var n=e?i.x:i.subX,s=l.call(i,t.id),c=r?i.filterRemoveNull(t.values):t.values,u=0,f=0,g=void 0;return i.isLineType(t)?a.data_regions[t.id]?g=i.lineWithRegions(c,n,s,a.data_regions[t.id]):(i.isStepType(t)&&(c=i.convertValuesToStep(c)),g=d.curve(i.getCurve(t))(c)):(c[0]&&(u=n(c[0].x),f=s(c[0].value)),g=o?"M "+f+" "+u:"M "+u+" "+f),g||"M 0 0"}},generateGetLinePoints:function(t,e){var i=this,n=i.config,a=t.__max__+1,r=!!e,o=i.getShapeX(0,a,t,r),s=i.getShapeY(r),l=i.getShapeOffset(i.isLineType,t,r),c=r?i.getSubYScale:i.getYScale;return function(t,e){var a=c.call(i,t.id)(0),r=l(t,e)||a,u=o(t),d=s(t);n.axis_rotated&&(t.value>0&&d<a||t.value<0&&a<d)&&(d=a);var f=[u,d-(a-r)];return[f,f,f,f]}},lineWithRegions:function(t,e,i,n){var a=this,r=a.config.axis_rotated,o=a.isTimeSeries(),l=a.isCategorized()?.5:0,c=[],u=void 0,d=void 0,f=void 0,g=void 0,h=function(t,e){for(var i,n=0;i=e[n];n++)if(i.start<t&&t<=i.end)return i.style;return!1};if((0,s.isDefined)(n))for(var p,x=function(t,e){return(0,s.isUndefined)(t)?e:o?a.parseDate(t):t},v=0;p=n[v];v++){var m=x(p.start,t[0].x),_=x(p.end,t[t.length-1].x),y=p.style||{dasharray:"2 2"};c[v]={start:m,end:_,style:y}}for(var b,T=r?function(t){return i(t.value)}:function(t){return e(t.x)},A=r?function(t){return e(t.x)}:function(t){return i(t.value)},w=function(t){return"M"+t[0][0]+","+t[0][1]+"L"+t[1][0]+","+t[1][1]},S=o?function(t,n,a,o){var s=t.x.getTime(),l=n.x-t.x,c=new Date(s+l*a),u=new Date(s+l*(a+o)),g=r?[[i(d(a)),e(c)],[i(d(a+f)),e(u)]]:[[e(c),i(d(a))],[e(u),i(d(a+f))]];return w(g)}:function(t,n,a,o){var s=r?[[i(d(a),!0),e(u(a))],[i(d(a+o),!0),e(u(a+o))]]:[[e(u(a),!0),i(d(a))],[e(u(a+o),!0),i(d(a+o))]];return w(s)},L="M",C=0;b=t[C];C++){var D=t[C-1];y=h(b.x,c);if((0,s.isUndefined)(c)||!y)L+=(C?"L":"")+T(b)+","+A(b);else{try{y=y.dasharray.split(" ")}catch(t){y="2 2".split(" ")}u=a.getScale(D.x+l,b.x+l,o),d=a.getScale(D.value,b.value);var F=e(b.x)-e(D.x),X=i(b.value)-i(D.value),M=Math.sqrt(Math.pow(F,2)+Math.pow(X,2));g=(f=y[0]/M)*y[1];for(var R=f;R<=1;R+=g)L+=S(D,b,R,f),R+g>=1&&(L+=S(D,b,1,0))}}return L},updateArea:function(t){var e=this;e.mainArea=e.main.selectAll("."+r.default.areas).selectAll("."+r.default.area).data(e.lineData.bind(e)),e.mainArea.exit().transition().duration(t).style("opacity","0").remove(),e.mainArea=e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=(0,a.select)(this).style("opacity"),"0"}).merge(e.mainArea),e.mainArea.style("opacity",e.orgAreaOpacity)},redrawArea:function(t,e){var i=this;return[(e?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",function(t){return i.isAreaRangeType(t)?i.orgAreaOpacity/1.75:i.orgAreaOpacity})]},generateDrawArea:function(t,e){var i=this,a=i.config,r=a.line_connectNull,o=a.axis_rotated,s=a.data_groups.length>0,l=i.generateGetAreaPoints(t,e),c=e?i.getSubYScale:i.getYScale,u=function(t){return(e?i.subxx:i.xx).call(i,t)},d=function(t,e){return s?l(t,e)[0][1]:c.call(i,t.id)(i.isAreaRangeType(t)?i.getAreaRangeData(t,"high"):i.getAreaBaseValue(t.id))},f=function(t,e){return s?l(t,e)[1][1]:c.call(i,t.id)(i.isAreaRangeType(t)?i.getAreaRangeData(t,"low"):t.value)};return function(t){var e=r?i.filterRemoveNull(t.values):t.values,s=0,l=0,c=void 0;if(i.isAreaType(t)){var g=(0,n.area)();g=o?g.y(u).x0(d).x1(f):g.x(u).y0(a.area_above?0:d).y1(f),r||(g=g.defined(function(t){return null!==i.getBaseValue(t)})),i.isStepType(t)&&(e=i.convertValuesToStep(e)),c=g.curve(i.getCurve(t))(e)}else e[0]&&(s=i.x(e[0].x),l=i.getYScale(t.id)(e[0].value)),c=o?"M "+l+" "+s:"M "+s+" "+l;return c||"M 0 0"}},getAreaBaseValue:function(){return 0},generateGetAreaPoints:function(t,e){var i=this,n=i.config,a=t.__max__+1,r=i.getShapeX(0,a,t,!!e),o=i.getShapeY(!!e),s=i.getShapeOffset(i.isAreaType,t,!!e),l=e?i.getSubYScale:i.getYScale;return function(t,e){var a=l.call(i,t.id)(0),c=s(t,e)||a,u=r(t),d=o(t);return n.axis_rotated&&(t.value>0&&d<a||t.value<0&&a<d)&&(d=a),[[u,c],[u,d-(a-c)],[u,d-(a-c)],[u,c]]}},updateCircle:function(){var t=this;t.config.point_show&&(t.mainCircle=t.main.selectAll("."+r.default.circles).selectAll("."+r.default.circle).data(function(e){return!t.isBarType(e)&&(!t.isLineType(e)||t.shouldDrawPointsForLine(e))&&t.labelishData(e)}),t.mainCircle.exit().remove(),t.mainCircle=t.mainCircle.enter().append(t.point("create",this,t.classCircle.bind(t),t.pointR.bind(t),t.color)).merge(t.mainCircle).style("stroke",t.color).style("opacity",t.initialOpacityForCircle.bind(t)))},redrawCircle:function(t,e,i,n){var a=this,o=a.main.selectAll("."+r.default.selectedCircle);if(!a.config.point_show)return[];var s=[];a.mainCircle.each(function(r){var l=a.point("update",a,t,e,a.opacityForCircle.bind(a),a.color,i,n,o).bind(this)(r);s.push(l)});var l=a.isCirclePoint()?"c":"";return[s,o.attr(l+"x",t).attr(l+"y",e)]},circleX:function(t){var e=(0,s.isValue)(t.x);return this.config.zoom_enabled&&this.zoomScale?e?this.zoomScale(t.x):null:e?this.x(t.x):null},updateCircleY:function(){var t=this,e=void 0,i=void 0;t.config.data_groups.length>0?(e=t.getShapeIndices(t.isLineType),i=t.generateGetLinePoints(e),t.circleY=function(t,e){return i(t,e)[0][1]}):t.circleY=function(e){return t.getYScale(e.id)(t.getBaseValue(e))}},getCircles:function(t,e){var i=(0,s.isValue)(t)?"-"+t:"";return(e?this.main.selectAll("."+r.default.circles+this.getTargetSelectorSuffix(e)):this.main).selectAll("."+r.default.circle+i)},expandCircles:function(t,e,i){var n=this,o=n.pointExpandedR.bind(n);i&&n.unexpandCircles();var s=n.getCircles(t,e).classed(r.default.EXPANDED,!0),l=o(s)/n.config.point_r;n.isCirclePoint()?s.attr("r",o):s.each(function(){var t=(0,a.select)(this),e=this.getBBox(),i=e.x+.5*e.width,n=e.y+.5*e.height;"circle"===this.tagName?t.attr("r",o):t.style("transform","translate("+(1-l)*i+"px, "+(1-l)*n+"px) scale("+l+")")})},unexpandCircles:function(t){var e=this,i=e.pointR.bind(e),n=e.getCircles(t).filter(function(){return(0,a.select)(this).classed(r.default.EXPANDED)}).classed(r.default.EXPANDED,!1);n.attr("r",i),e.isCirclePoint()||n.style("transform","scale("+i(n)/e.config.point_r+")")},pointR:function(t){var e=this.config.point_r,i=e;return this.isStepType(t)?i=0:this.isBubbleType(t)?i=this.getBubbleR(t):(0,s.isFunction)(e)&&(i=e(t)),i},pointExpandedR:function(t){var e=this.config,i=this.isBubbleType(t)?1.15:1.75;return e.point_focus_expand_enabled?e.point_focus_expand_r||this.pointR(t)*i:this.pointR(t)},pointSelectR:function(t){var e=this.config.point_select_r;return(0,s.isFunction)(e)?e(t):e||4*this.pointR(t)},isWithinCircle:function(t,e){var i=(0,a.mouse)(t),n=(0,a.select)(t),r=this.isCirclePoint()?"c":"",o=+n.attr(r+"x"),s=+n.attr(r+"y");if(!o&&!s&&1===t.nodeType){var l=t.getBBox?t.getBBox():t.getBoundingClientRect();o=l.x,s=l.y}return Math.sqrt(Math.pow(o-i[0],2)+Math.pow(s-i[1],2))<e},isWithinStep:function(t,e){return Math.abs(e-(0,a.mouse)(t)[1])<30},shouldDrawPointsForLine:function(t){var e=this.config.line_point;return!0===e||(0,s.isArray)(e)&&-1!==e.indexOf(t.id)}})},function(t,e,i){"use strict";var n,a=i(5),r=i(3),o=(n=r)&&n.__esModule?n:{default:n},s=i(11);(0,s.extend)(o.default.prototype,{hasValidPointType:function(t){return/^(circle|rect(angle)?|polygon|ellipse|use)$/i.test(t||this.config.point_type)},hasValidPointDrawMethods:function(t){var e=t||this.config.point_type;return(0,s.isObjectType)(e)&&(0,s.isFunction)(e.create)&&(0,s.isFunction)(e.update)},insertPointInfoDefs:function(t,e){for(var i,n=(new DOMParser).parseFromString(t,"image/svg+xml").firstChild,r=document.createElementNS(a.namespaces.svg,n.nodeName.toLowerCase()),o=n.attributes,l=0;i=o[l];l++)i=i.name,r.setAttribute(i,n.getAttribute(i));r.id=e,r.style.fill="inherit",r.style.stroke="inherit",n.children.length&&(r.innerHTML=(0,s.toArray)(n.children).map(function(t){return t.outerHTML}).join("")),this.defs.node().appendChild(r)},pointFromDefs:function(t){return this.defs.select("#"+t)},generatePoint:function(){var t=this,e=t.config,i=[],n=(0,s.notEmpty)(e.point_pattern)?e.point_pattern:[e.point_type];return function(e,r){for(var o=arguments.length,s=Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];return function(o){var l=o.id||o.data&&o.data.id||o,c=(0,a.select)(this),u=void 0;if(i.indexOf(l)<0&&i.push(l),u=n[i.indexOf(l)%n.length],t.hasValidPointType(u))u=t[u];else if(!t.hasValidPointDrawMethods(u)){var d=t.datetimeId+"-point-"+l;if(t.pointFromDefs(d).size()<1&&t.insertPointInfoDefs(u,d),"create"===e)return t.custom.create.bind(r).apply(void 0,[c,d].concat(s));if("update"===e)return t.custom.update.bind(r).apply(void 0,[c].concat(s))}return u[e].bind(r).apply(void 0,[c].concat(s))}}},getTransitionName:function(){return Math.random().toString()},custom:{create:function(t,e,i,n,a){return t.append("use").attr("xlink:href","#"+e).attr("class",i).style("fill",a).node()},update:function(t,e,i,n,a,r,o,s){var l=t.node().getBBox();l.width/=2,l.height/=2;var c=function(t){return e(t)-l.width},u=function(t){return i(t)-l.height},d=t;if(r){var f=this.getTransitionName();o&&(d=t.attr("x",c)),d=t.transition(f).attr("x",c).attr("y",u).transition(f),s.transition(this.getTransitionName())}else d=t.attr("x",c).attr("y",u);return d.style("opacity",n).style("fill",a)}},circle:{create:function(t,e,i,n){return t.append("circle").attr("class",e).attr("r",i).style("fill",n).node()},update:function(t,e,i,n,a,r,o,s){var l=this,c=t;if(l.hasType("bubble")&&(c=c.attr("r",l.pointR.bind(l))),r){var u=l.getTransitionName();o&&(c=c.attr("cx",e)),c=c.transition(u).attr("cx",e).attr("cy",i).transition(u),s.transition(l.getTransitionName())}else c=c.attr("cx",e).attr("cy",i);return c.style("opacity",n).style("fill",a)}},rectangle:{create:function(t,e,i,n){var a=function(t){return 2*i(t)};return t.append("rect").attr("class",e).attr("width",a).attr("height",a).style("fill",n).node()},update:function(t,e,i,n,a,r,o,s){var l=this.config.point_r,c=function(t){return e(t)-l},u=function(t){return i(t)-l},d=t;if(r){var f=this.getTransitionName();o&&(d=d.attr("x",c)),d=d.transition(f).attr("x",c).attr("y",u).transition(f),s.transition(this.getTransitionName())}else d=d.attr("x",c).attr("y",u);return d.style("opacity",n).style("fill",a)}}})},function(t,e,i){"use strict";var n=i(5),a=i(6),r=l(i(3)),o=l(i(14)),s=i(11);function l(t){return t&&t.__esModule?t:{default:t}}var c="$radarPoints";(0,s.extend)(r.default.prototype,{initRadar:function(){var t=this,e=t.config;t.hasType("radar")&&(t.radars=t.main.select("."+o.default.chart).append("g").attr("class",o.default.chartRadars),t.radars.levels=t.radars.append("g").attr("class",o.default.levels),t.radars.axes=t.radars.append("g").attr("class",o.default.axis),t.radars.shapes=t.radars.append("g").attr("class",o.default.shapes),t.maxValue=e.radar_axis_max||t.getMinMaxData().max[0].value)},getRadarSize:function(){var t=this.config.axis_x_categories.length<4?-20:10,e=(Math.min(this.arcWidth,this.arcHeight)-t)/2;return[e,e]},updateTargetsForRadar:function(t){var e=this.config;(0,s.isEmpty)(e.axis_x_categories)&&(e.axis_x_categories=(0,a.range)(0,(0,a.max)(t).values.length)),this.generateRadarPoints()},getRadarPosition:function(t,e,i,n){var a=this.config,r=this.getRadarSize(),o=r[0],l=r[1],c=a.axis_x_categories.length,u=a.radar_direction_clockwise,d=(0,s.toArray)(t).map(function(r){return function(t,e,i,n,a,r){var o=t&&n>0?i-n:n,s=2*Math.PI;return a*(1-r*("x"===e?Math.sin:Math.cos)(o*s/i))}(u,r,c,e,(0,s.isDefined)(i)?i:"x"===t?o:l,n||a.radar_size_ratio)});return 1===d.length?d[0]:d},generateRadarPoints:function(){var t=this,e=t.config,i=t.data.targets,n=t.getRadarSize(),a=n[0],r=n[1],o=t.getCache(c)||{},s=o._size;if(!s||s.width!==a&&s.height!==r){i.forEach(function(i){o[i.id]=i.values.map(function(i,n){return t.getRadarPosition(["x","y"],n,void 0,function(i){return parseFloat(Math.max(i,0))/t.maxValue*e.radar_size_ratio}(i.value))})}),o._size={width:a,height:r},t.addCache(c,o)}},redrawRadar:function(t,e){var i=this,n=i.getTranslate("radar");n&&(i.radars.attr("transform",n),i.main.selectAll("."+o.default.circles).attr("transform",n),i.main.select("."+o.default.chartTexts).attr("transform",n),i.generateRadarPoints(),i.updateRadarLevel(),i.updateRadarAxes(),i.updateRadarShape(t,e))},generateGetRadarPoints:function(){var t=this.getCache(c);return function(e,i){var n=t[e.id][i];return[n,n,n,n]}},updateRadarLevel:function(){var t=this,e=t.config,i=t.getRadarSize(),n=i[0],r=i[1],l=e.radar_level_depth,c=e.axis_x_categories.length,u=e.radar_level_text_show,d=t.radars.levels,f=(0,a.range)(0,l),g=e.radar_size_ratio*Math.min(n,r),h=f.map(function(t){return g*((t+1)/l)}),p=e.radar_level_text_format,x=f.map(function(e){var i=h[e];return(0,a.range)(0,c).map(function(e){return t.getRadarPosition(["x","y"],e,i,1).join(",")}).join(" ")}),v=d.selectAll("."+o.default.level).data(f);v.exit().remove();var m=v.enter().append("g").attr("class",function(t,e){return o.default.level+" "+o.default.level+"-"+e});m.append("polygon").style("visibility",e.radar_level_show?null:"hidden"),u&&(d.select("text").empty()&&d.append("text").attr("dx","-.5em").attr("dy","-.7em").style("text-anchor","end").text(function(){return p(0)}),m.append("text").attr("dx","-.5em").style("text-anchor","end").text(function(e){return p(t.maxValue/f.length*(e+1))})),m.merge(v).attr("transform",function(t){return"translate("+(n-h[t])+", "+(r-h[t])+")"}).selectAll("polygon").attr("points",function(t){return x[t]}),u&&d.selectAll("text").attr("x",function(t){return(0,s.isUndefined)(t)?n:x[t].split(",")[0]}).attr("y",function(t){return(0,s.isUndefined)(t)?r:0})},updateRadarAxes:function(){var t=this,e=t.config,i=t.getRadarSize(),n=i[0],a=i[1],r=e.axis_x_categories,s=t.radars.axes.selectAll("g").data(r);s.exit().remove();var l=s.enter().append("g").attr("class",function(t,e){return o.default.axis+"-"+e});e.radar_axis_line_show&&l.append("line"),e.radar_axis_text_show&&l.append("text"),s=l.merge(s),e.radar_axis_line_show&&s.select("line").attr("x1",n).attr("y1",a).attr("x2",function(e,i){return t.getRadarPosition("x",i)}).attr("y2",function(e,i){return t.getRadarPosition("y",i)}),e.radar_axis_text_show&&s.select("text").style("text-anchor","middle").attr("dy",".5em").text(function(t){return t}).datum(function(t,e){return{index:e}}).attr("x",function(e,i){return t.getRadarPosition("x",i,void 0,1)}).attr("y",function(e,i){return t.getRadarPosition("y",i,void 0,1)}),t.bindEvent()},bindEvent:function(){var t=this,e=this;if(e.config.interaction_enabled){var i="mouse"===e.inputType;e.radars.select("."+o.default.axis).on((i?"mouseover ":"")+"click",function(){if(!e.transiting){var t=(0,n.select)(n.event.target).datum().index;e.selectRectForSingle(e.svg.node(),null,t),e.setOver(t)}}).on("mouseout",i?function(){t.hideTooltip(),t.unexpandCircles()}:null)}},updateRadarShape:function(t,e){var i=this,n=i.data.targets,a=i.getCache(c),r=i.radars.shapes.selectAll("polygon").data(n),o=r.enter().append("g").attr("class",i.classChartRadar.bind(i));r.exit().transition().duration(e).remove(),o.append("polygon").merge(r).transition().duration(t).style("fill",function(t){return i.color(t)}).style("stroke",function(t){return i.color(t)}).attr("points",function(t){return a[t.id].join(" ")})},radarCircleX:function(t){return this.getCache(c)[t.id][t.index][0]},radarCircleY:function(t){return this.getCache(c)[t.id][t.index][1]}})},function(t,e,i){"use strict";var n=i(5),a=s(i(3)),r=s(i(14)),o=i(11);function s(t){return t&&t.__esModule?t:{default:t}}(0,o.extend)(a.default.prototype,{initText:function(){this.main.select("."+r.default.chart).append("g").attr("class",r.default.chartTexts),this.mainText=(0,n.selectAll)([])},updateTargetsForText:function(t){var e=this,i=e.classChartText.bind(e),n=e.classTexts.bind(e),a=e.classFocus.bind(e);e.main.select("."+r.default.chartTexts).selectAll("."+r.default.chartText).data(t).attr("class",function(t){return i(t)+a(t)}).enter().append("g").attr("class",i).style("opacity","0").style("pointer-events","none").append("g").attr("class",n)},updateText:function(t){var e=this,i=this,n=i.config,a=i.labelishData.bind(i),o=i.classText.bind(i);i.mainText=i.main.selectAll("."+r.default.texts).selectAll("."+r.default.text).data(function(t){return e.isRadarType(t)?t.values:a(t)}),i.mainText.exit().transition().duration(t).style("fill-opacity","0").remove(),i.mainText=i.mainText.enter().append("text").merge(i.mainText).attr("class",o).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return i.color(t)}).style("fill-opacity","0").text(function(t,e,n){return i.dataLabelFormat(t.id)(t.value,t.id,e,n)})},redrawText:function(t,e,i,n){return[(n?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",i?0:this.opacityForText.bind(this))]},getTextRect:function(t,e,i){var a=(t.node?t.node():t).textContent,r=i.node?i.node():i,o=(0,n.select)("body").append("div").classed("bb",!0),s=o.append("svg").style("visibility","hidden").style("position","fixed").style("top","0px").style("left","0px"),l=(0,n.select)(r).style("font"),c=void 0;return s.selectAll(".dummy").data([a]).enter().append("text").classed(e,!!e).style("font",l).text(a).each(function(){c=this.getBoundingClientRect()}),o.remove(),c},generateXYForText:function(t,e,i,n){var a=this,r=a.generateGetAreaPoints(t,!1),o=a.generateGetBarPoints(e,!1),s=a.generateGetLinePoints(i,!1),l=a.generateGetRadarPoints(),c=n?a.getXForText:a.getYForText;return function(t,e){var i=a.isAreaType(t)&&r||a.isBarType(t)&&o||a.isRadarType(t)&&l||s;return c.call(a,i(t,e),t,this)}},getXForText:function(t,e,i){var n=this,a=n.config,r=void 0,o=void 0;return a.axis_rotated?(o=n.isBarType(e)?4:6,r=t[2][1]+o*(e.value<0?-1:1)):r=n.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(r>n.width?r=n.width-i.getBoundingClientRect().width:r<0&&(r=4)),r+(a.data_labels_position.x||0)},getYForText:function(t,e,i){var n=this,a=n.config,r=a.point_r,s=3,l=void 0;if(a.axis_rotated)l=(t[0][0]+t[2][0]+.6*i.getBoundingClientRect().height)/2;else if(l=t[2][1],(0,o.isNumber)(r)&&r>5&&(n.isLineType(e)||n.isScatterType(e))&&(s+=a.point_r/2.3),e.value<0||0===e.value&&!n.hasPositiveValue)l+=i.getBoundingClientRect().height,n.isBarType(e)&&n.isSafari()?l-=s:!n.isBarType(e)&&n.isChrome()&&(l+=s);else{var c=2*-s;n.isBarType(e)?c=-s:n.isBubbleType(e)&&(c=s),l+=c}if(null===e.value&&!a.axis_rotated){var u=i.getBoundingClientRect().height;l<u?l=u:l>this.height&&(l=this.height-4)}return l+(a.data_labels_position.y||0)}})},function(t,e,i){"use strict";var n,a=i(3),r=(n=a)&&n.__esModule?n:{default:n},o=i(11);(0,o.extend)(r.default.prototype,{setTargetType:function(t,e){var i=this,n=i.config;i.mapToTargetIds(t).forEach(function(t){i.withoutFadeIn[t]=e===n.data_types[t],n.data_types[t]=e}),t||(n.data_type=e)},hasType:function(t,e){var i=this.config.data_types,n=e||this.data.targets,a=!1;return n&&n.length?n.forEach(function(e){var n=i[e.id];(n&&n.indexOf(t)>=0||!n&&"line"===t)&&(a=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(e){i[e]===t&&(a=!0)}):a=this.config.data_type===t,a},hasArcType:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!["pie","donut","gauge","radar"].filter(function(t){return-1===i.indexOf(t)}).every(function(i){return!e.hasType(i,t)})},isLineType:function(t){var e=(0,o.isString)(t)?t:t.id;return!this.config.data_types[e]||this.isTypeOf(e,["line","spline","area","area-spline","area-spline-range","area-line-range","step","area-step"])},isTypeOf:function(t,e){var i=(0,o.isString)(t)?t:t.id,n=this.config.data_types[i];return(0,o.isArray)(e)?e.indexOf(n)>=0:n===e},isStepType:function(t){return this.isTypeOf(t,["step","area-step"])},isSplineType:function(t){return this.isTypeOf(t,["spline","area-spline","area-spline-range"])},isAreaType:function(t){return this.isTypeOf(t,["area","area-spline","area-spline-range","area-line-range","area-step"])},isAreaRangeType:function(t){return this.isTypeOf(t,["area-spline-range","area-line-range"])},isBarType:function(t){return this.isTypeOf(t,"bar")},isBubbleType:function(t){return this.isTypeOf(t,"bubble")},isScatterType:function(t){return this.isTypeOf(t,"scatter")},isPieType:function(t){return this.isTypeOf(t,"pie")},isGaugeType:function(t){return this.isTypeOf(t,"gauge")},isDonutType:function(t){return this.isTypeOf(t,"donut")},isRadarType:function(t){return this.isTypeOf(t,"radar")},isArcType:function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)||this.isRadarType(t)},isCirclePoint:function(){var t=this.config,e=t.point_pattern;return"circle"===t.point_type&&(!e||(0,o.isArray)(e)&&0===e.length)},lineData:function(t){return this.isLineType(t)?[t]:[]},arcData:function(t){return this.isArcType(t.data)?[t]:[]},barData:function(t){return this.isBarType(t)?t.values:[]},labelishData:function(t){return this.isBarType(t)||this.isLineType(t)||this.isScatterType(t)||this.isBubbleType(t)||this.isRadarType(t)?t.values:[]},barLineBubbleData:function(t){return this.isBarType(t)||this.isLineType(t)||this.isBubbleType(t)?t.values:[]},isInterpolationType:function(t){return["basis","basis-closed","basis-open","bundle","cardinal","cardinal-closed","cardinal-open","catmull-rom","catmull-rom-closed","catmull-rom-open","linear","linear-closed","monotone-x","monotone-y","natural"].indexOf(t)>=0}})},function(t,e,i){"use strict";var n=i(5),a=s(i(3)),r=s(i(14)),o=i(11);function s(t){return t&&t.__esModule?t:{default:t}}var l=function(t){return(0,o.isValue)(t.position)||"end"},c=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},u=function(t,e,i){return function(n){var a=t?0:e;return"start"===n.position?a=t?-i:0:"middle"===n.position&&(a=(t?-i:e)/2),a}};(0,o.extend)(a.default.prototype,{initGrid:function(){var t=this.config;this.xgrid=(0,n.selectAll)([]),t.grid_lines_front||this.initGridLines(),t.grid_front||this.initXYFocusGrid()},initGridLines:function(){var t=this;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",r.default.grid+" "+r.default.gridLines),t.gridLines.append("g").attr("class",r.default.xgridLines),t.gridLines.append("g").attr("class",r.default.ygridLines),t.xgridLines=(0,n.selectAll)([])},updateXGrid:function(t){var e=this,i=e.config,a=i.axis_rotated,o=e.generateGridData(i.grid_x_type,e.x),s=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=a?{x1:0,x2:e.width,y1:function(t){return e.x(t)-s},y2:function(t){return e.x(t)-s}}:{x1:function(t){return e.x(t)+s},x2:function(t){return e.x(t)+s},y1:0,y2:e.height},e.xgrid=e.main.select("."+r.default.xgrids).selectAll("."+r.default.xgrid).data(o),e.xgrid.exit().remove(),e.xgrid=e.xgrid.enter().append("line").attr("class",r.default.xgrid).merge(e.xgrid),t||e.xgrid.each(function(){var t=(0,n.select)(this);Object.keys(e.xgridAttr).forEach(function(i){t.attr(i,e.xgridAttr[i]).style("opacity",function(){return t.attr(a?"y1":"x1")===(a?e.height:0)?"0":"1"})})})},updateYGrid:function(){var t=this,e=t.config,i=e.axis_rotated,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+r.default.ygrids).selectAll("."+r.default.ygrid).data(n),t.ygrid.exit().remove(),t.ygrid=t.ygrid.enter().append("line").attr("class",r.default.ygrid).merge(t.ygrid),t.ygrid.attr("x1",i?t.y:0).attr("x2",i?t.y:t.width).attr("y1",i?0:t.y).attr("y2",i?t.height:t.y),t.smoothLines(t.ygrid,"grid")},updateGrid:function(t){var e=this;e.grid.style("visibility",e.hasArcType()?"hidden":"visible"),e.main.select("line."+r.default.xgridFocus).style("visibility","hidden"),e.updateXGridLines(t),e.updateYGridLines(t)},updateXGridLines:function(t){var e=this,i=e.main,n=e.config,a=n.axis_rotated;n.grid_x_show&&e.updateXGrid(),e.xgridLines=i.select("."+r.default.xgridLines).selectAll("."+r.default.xgridLine).data(n.grid_x_lines),e.xgridLines.exit().transition().duration(t).style("opacity","0").remove();var o=e.xgridLines.enter().append("g");o.append("line").style("opacity","0"),o.append("text").attr("transform",a?"":"rotate(-90)").attr("dy",-5).style("opacity","0"),e.xgridLines=o.merge(e.xgridLines),e.xgridLines.attr("class",function(t){return(r.default.xgridLine+" "+(t.class||"")).trim()}).select("text").attr("text-anchor",l).attr("dx",c).transition().duration(t).text(function(t){return t.text}).transition().style("opacity","1")},updateYGridLines:function(t){var e=this,i=e.main,n=e.config,a=n.axis_rotated;n.grid_y_show&&e.updateYGrid(),e.ygridLines=i.select("."+r.default.ygridLines).selectAll("."+r.default.ygridLine).data(n.grid_y_lines),e.ygridLines.exit().transition().duration(t).style("opacity","0").remove();var o=e.ygridLines.enter().append("g");o.append("line").style("opacity","0"),o.append("text").attr("transform",a?"rotate(-90)":"").style("opacity","0"),e.ygridLines=o.merge(e.ygridLines);var s=e.yv.bind(e);e.ygridLines.attr("class",function(t){return(r.default.ygridLine+" "+(t.class||"")).trim()}).select("line").transition().duration(t).attr("x1",a?s:0).attr("x2",a?s:e.width).attr("y1",a?0:s).attr("y2",a?e.height:s).transition().style("opacity","1"),e.ygridLines.select("text").attr("text-anchor",l).attr("dx",c).transition().duration(t).attr("dy",-5).attr("x",u(a,e.width,e.height)).attr("y",s).text(function(t){return t.text}).transition().style("opacity","1")},redrawGrid:function(t){var e=this,i=e.config.axis_rotated,n=e.xv.bind(e),a=e.xgridLines.select("line"),r=e.xgridLines.select("text");return a=(t?a.transition():a).attr("x1",i?0:n).attr("x2",i?e.width:n).attr("y1",i?n:0).attr("y2",i?n:e.height),r=(t?r.transition():r).attr("x",u(!i,e.width,e.height)).attr("y",n).text(function(t){return t.text}),[(t?a.transition():a).style("opacity","1"),(t?r.transition():r).style("opacity","1")]},initXYFocusGrid:function(){var t=this,e=t.config;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",r.default.grid),e.grid_x_show&&t.grid.append("g").attr("class",r.default.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",r.default.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",r.default.xgridFocus).append("line").attr("class",r.default.xgridFocus)},showXGridFocus:function(t){var e=this,i=e.config,n=i.axis_rotated,a=t.filter(function(t){return t&&(0,o.isValue)(e.getBaseValue(t))}),s=e.main.selectAll("line."+r.default.xgridFocus),l=e.xx.bind(e);!i.tooltip_show||e.hasType("bubble")||e.hasType("scatter")||e.hasArcType()||(s.style("visibility","visible").data([a[0]]).attr(n?"y1":"x1",l).attr(n?"y2":"x2",l),e.smoothLines(s,"grid"))},hideXGridFocus:function(){this.main.select("line."+r.default.xgridFocus).style("visibility","hidden")},updateXgridFocus:function(){var t=this.config.axis_rotated;this.main.select("line."+r.default.xgridFocus).attr("x1",t?0:-10).attr("x2",t?this.width:-10).attr("y1",t?-10:0).attr("y2",t?-10:this.height)},generateGridData:function(t,e){var i=this.main.select("."+r.default.axisX).selectAll(".tick").size(),n=[];if("year"===t)for(var a=this.getXDomain(),o=a[0].getFullYear(),s=a[1].getFullYear(),l=o;l<=s;l++)n.push(new Date(l+"-01-01 00:00:00"));else(n=e.ticks(10)).length>i&&(n=n.filter(function(t){return(t+"").indexOf(".")<0}));return n},getGridFilterToRemove:function(t){return t?function(e){var i=!1;return((0,o.isArray)(t)?t.concat():[t]).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(i=!0)}),i}:function(){return!0}},removeGridLines:function(t,e){var i=this.config,n=this.getGridFilterToRemove(t),a=e?r.default.xgridLines:r.default.ygridLines,o=e?r.default.xgridLine:r.default.ygridLine;this.main.select("."+a).selectAll("."+o).filter(n).transition().duration(i.transition_duration).style("opacity","0").remove();var s="grid_"+(e?"x":"y")+"_lines";i[s]=i[s].filter(function(t){return!n(t)})}})},function(t,e,i){"use strict";var n=i(5),a=s(i(3)),r=s(i(14)),o=i(11);function s(t){return t&&t.__esModule?t:{default:t}}(0,o.extend)(a.default.prototype,{initTooltip:function(){var t=this,e=t.config;if(t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",r.default.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),e.tooltip_init_show){if(t.isTimeSeries()&&(0,o.isString)(e.tooltip_init_x)){var i=t.data.targets[0],n=void 0,a=void 0;for(e.tooltip_init_x=t.parseDate(e.tooltip_init_x),n=0;(a=i.values[n])&&a.x-e.tooltip_init_x!=0;n++);e.tooltip_init_x=n}t.tooltip.html(e.tooltip_contents.call(t,t.data.targets.map(function(i){return t.addName(i.values[e.tooltip_init_x])}),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType(null,["radar"])),t.color)),t.tooltip.style("top",e.tooltip_init_position.top).style("left",e.tooltip_init_position.left).style("display","block")}},getTooltipContent:function(t,e,i,n){var a=this,r=a.config,s=r.tooltip_format_title||e,l=r.tooltip_format_name||function(t){return t},c=r.tooltip_format_value||i,u=r.tooltip_order,d=function(t){return a.getBaseValue(t)},f=a.levelColor?function(t){return a.levelColor(t.value)}:function(t){return n(t.id)};if(null===u&&r.data_groups.length){var g=a.orderTargets(a.data.targets).map(function(t){return t.id}).reverse();t.sort(function(t,e){var i=t?t.value:null,n=e?e.value:null;return i>0&&n>0&&(i=t.id?g.indexOf(t.id):null,n=e.id?g.indexOf(e.id):null),i-n})}else/^(asc|desc)$/.test(u)?t.sort(function(t,e){var i=t?d(t):null,n=e?d(e):null;return"asc"===u?i-n:n-i}):(0,o.isFunction)(u)&&t.sort(u);for(var h=void 0,p=void 0,x=void 0,v=void 0,m=0,_=t.length;m<_;m++)if((p=t[m])&&(d(p)||0===d(p))){if(!h){var y=(0,o.sanitise)(s?s(p.x):p.x);h='<table class="'+a.CLASS.tooltip+'">'+((0,o.isValue)(y)?'<tr><th colspan="2">'+y+"</th></tr>":"")}if(x=[p.ratio,p.id,p.index,t],a.isAreaRangeType(p)?v="<b>Mid:</b> "+(v=["high","low"].map(function(t){return(0,o.sanitise)(c.apply(void 0,[a.getAreaRangeData(p,t)].concat(x)))}))+" <b>High:</b> "+v[0]+" <b>Low:</b> "+v[1]:v=(0,o.sanitise)(c.apply(void 0,[d(p)].concat(x))),void 0!==v){if(null===p.name)continue;var b=(0,o.sanitise)(l.apply(void 0,[p.name].concat(x))),T=f(p);h+='<tr class="'+a.CLASS.tooltipName+a.getTargetSelectorSuffix(p.id)+'"><td class="name">',h+=a.patterns?'<svg><rect style="fill:'+T+'" width="10" height="10"></rect></svg>':'<span style="background-color:'+T+'"></span>',h+=b+'</td><td class="value">'+v+"</td></tr>"}}return h+"</table>"},tooltipPosition:function(t,e,i,a){var r=this,o=r.config,s=(0,n.mouse)(a),l=s[0],c=s[1],u=r.getSvgLeft(!0),d=u+r.currentWidth-r.getCurrentPaddingRight();if(c+=20,r.hasArcType()){"touch"===r.inputType||r.hasType("radar")||(c+=r.height/2,l+=(r.width-(r.isLegendRight?r.getLegendWidth():0))/2)}else{var f=r.x(t[0].x);o.axis_rotated?(c=f+20,l+=u+100,d-=u):(c-=5,l=u+r.getCurrentPaddingLeft(!0)+20+(r.zoomScale?l:f))}var g=l+e;return g>d&&(l-=g-d+20),c+i>r.currentHeight&&(c-=i+30),c<0&&(c=0),{top:c,left:l}},showTooltip:function(t,e){var i=this,n=i.config,a=i.hasArcType(null,["radar"]),r=t.filter(function(t){return t&&(0,o.isValue)(i.getBaseValue(t))}),s=n.tooltip_position||i.tooltipPosition;if(0!==r.length&&n.tooltip_show){var l=i.tooltip.datum(),c=l&&l.width||0,u=l&&l.height||0;if(!l||l.current!==JSON.stringify(t)){var d=n.tooltip_contents.call(i,t,i.axis.getXAxisTickFormat(),i.getYFormat(a),i.color);(0,o.callFn)(n.tooltip_onshow,i),i.tooltip.html(d).style("display","block").datum({current:JSON.stringify(t),width:c=i.tooltip.property("offsetWidth"),height:u=i.tooltip.property("offsetHeight")}),(0,o.callFn)(n.tooltip_onshown,i),i._handleLinkedCharts(!0,t[0].index)}var f=s.call(this,r,c,u,e);i.tooltip.style("top",f.top+"px").style("left",f.left+"px")}},hideTooltip:function(){var t=this.config;(0,o.callFn)(t.tooltip_onhide,this),this.tooltip.style("display","none").datum(null),(0,o.callFn)(t.tooltip_onhidden,this),this._handleLinkedCharts(!1)},_handleLinkedCharts:function(t,e){var i=this;if(i.config.tooltip_linked){var n=i.config.tooltip_linked_name;i.api.internal.charts.forEach(function(a){if(a!==i.api){var r=a.internal,o=r.config.tooltip_linked,s=r.config.tooltip_linked_name,l=document.body.contains(a.element);if(o&&n===s&&l){var c="block"===r.tooltip.style("display");try{c^t&&a.tooltip[c?"hide":"show"]({index:e})}catch(t){}}}})}}})},function(t,e,i){"use strict";var n=i(5),a=s(i(3)),r=s(i(14)),o=i(11);function s(t){return t&&t.__esModule?t:{default:t}}(0,o.extend)(a.default.prototype,{initLegend:function(){var t=this,e=t.config;t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g"),e.legend_show?e.legend_contents_bindto&&e.legend_contents_template?t.updateLegendTemplate():(t.legend.attr("transform",t.getTranslate("legend")),t.updateLegendWithDefaults()):(t.legend.style("visibility","hidden"),t.hiddenLegendIds=t.mapToIds(t.data.targets))},updateLegendTemplate:function(){var t=this,e=t.config,i=(0,n.select)(e.legend_contents_bindto),a=e.legend_contents_template;if(!i.empty()){var r=t.data.targets,s=[],l="";t.mapToIds(r).forEach(function(e){var i=(0,o.isFunction)(a)?a.call(t,e,t.color(e),t.api.data(e)[0].values):a.replace(/{=COLOR}/g,t.color(e)).replace(/{=TITLE}/g,e);i&&(s.push(e),l+=i)});var c=i.html(l).selectAll(function(){return this.childNodes}).data(s);t.setLegendItem(c)}},updateLegendWithDefaults:function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},updateSizeForLegend:function(t,e){var i=this,n=i.config,a={top:i.isLegendTop?i.getCurrentPaddingTop()+n.legend_inset_y+5.5:i.currentHeight-t-i.getCurrentPaddingBottom()-n.legend_inset_y,left:i.isLegendLeft?i.getCurrentPaddingLeft()+n.legend_inset_x+.5:i.currentWidth-e-i.getCurrentPaddingRight()-n.legend_inset_x+.5};i.margin3={top:i.isLegendRight?0:i.isLegendInset?a.top:i.currentHeight-t,right:NaN,bottom:0,left:i.isLegendRight?i.currentWidth-e:i.isLegendInset?a.left:0}},transformLegend:function(t){(t?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},updateLegendStep:function(t){this.legendStep=t},updateLegendItemWidth:function(t){this.legendItemWidth=t},updateLegendItemHeight:function(t){this.legendItemHeight=t},getLegendWidth:function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},getLegendHeight:function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},opacityForLegend:function(t){return t.classed(r.default.legendItemHidden)?null:"1"},opacityForUnfocusedLegend:function(t){return t.classed(r.default.legendItemHidden)?null:"0.3"},toggleFocusLegend:function(t,e){var i=this,a=i.mapToTargetIds(t);i.legend.selectAll("."+r.default.legendItem).filter(function(t){return a.indexOf(t)>=0}).classed(r.default.legendItemFocused,e).transition().duration(100).style("opacity",function(){return(e?i.opacityForLegend:i.opacityForUnfocusedLegend).call(i,(0,n.select)(this))})},revertLegend:function(){var t=this;t.legend.selectAll("."+r.default.legendItem).classed(r.default.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend((0,n.select)(this))})},showLegend:function(t){var e=this,i=e.config;i.legend_show||(i.legend_show=!0,e.legend.style("visibility","visible"),!e.legendHasRendered&&e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend((0,n.select)(this))})},hideLegend:function(t){var e=this,i=e.config;i.legend_show&&(0,o.isEmpty)(t)&&(i.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity","0").style("visibility","hidden")},clearLegendItemTextBoxCache:function(){this.legendItemTextBox={}},setLegendItem:function(t){var e=this,i=e.config,a="touch"===e.inputType;t.attr("class",function(t){var i=(0,n.select)(this);return(!i.empty()&&i.attr("class")||"")+e.generateClass(r.default.legendItem,t)}).style("visibility",function(t){return e.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){(0,o.callFn)(i.legend_item_onclick,e,t)||(n.event.altKey?(e.api.hide(),e.api.show(t)):(e.api.toggle(t),!a&&e.isTargetToShow(t)?e.api.focus(t):e.api.revert())),a&&e.hideTooltip()}),a||t.on("mouseout",function(t){(0,o.callFn)(i.legend_item_onout,e,t)||((0,n.select)(this).classed(r.default.legendItemFocused,!1),e.api.revert())}).on("mouseover",function(t){(0,o.callFn)(i.legend_item_onover,e,t)||((0,n.select)(this).classed(r.default.legendItemFocused,!0),!e.transiting&&e.isTargetToShow(t)&&e.api.focus(t))})},updateLegend:function(t,e,i){var a=this,s=a.config,l=s.legend_item_tile_width+5,c=0,u=0,d=void 0,f=void 0,g=0,h={},p={},x={},v=[0],m={},_=0,y=void 0,b=a.isLegendRight||a.isLegendInset,T=t.filter(function(t){return!(0,o.isDefined)(s.data_names[t])||null!==s.data_names[t]}),A=e||{},w=(0,o.getOption)(A,"withTransition",!0),S=(0,o.getOption)(A,"withTransitionForTransform",!0),L=function(t,e,i){var n=i===T.length-1,o=function(t,e){return a.legendItemTextBox[e]||(a.legendItemTextBox[e]=a.getTextRect(t,r.default.legendItem,t)),a.legendItemTextBox[e]}(t,e),d=o.width+l+(n&&!b?0:10)+s.legend_padding,f=o.height+4,y=b?f:d,A=b?a.getLegendHeight():a.getLegendWidth(),w=void 0,S=function(t,e){e||(w=(A-g-y)/2)<10&&(w=(A-y)/2,g=0,_++),m[t]=_,v[_]=a.isLegendInset?10:w,h[t]=g,g+=y};if(0===i&&(g=0,_=0,c=0,u=0),s.legend_show&&!a.isLegendToShow(e))return p[e]=0,x[e]=0,m[e]=0,void(h[e]=0);p[e]=d,x[e]=f,(!c||d>=c)&&(c=d),(!u||f>=u)&&(u=f);var L=b?u:c;s.legend_equally?(Object.keys(p).forEach(function(t){return p[t]=c}),Object.keys(x).forEach(function(t){return x[t]=u}),(w=(A-L*T.length)/2)<10?(g=0,_=0,T.forEach(function(t){return S(t)})):S(e,!0)):S(e)};a.isLegendInset&&(_=s.legend_inset_step?s.legend_inset_step:T.length,a.updateLegendStep(_)),a.isLegendRight?(d=function(t){return c*m[t]},f=function(t){return v[m[t]]+h[t]}):a.isLegendInset?(d=function(t){return c*m[t]+10},f=function(t){return v[m[t]]+h[t]}):(d=function(t){return v[m[t]]+h[t]},f=function(t){return u*m[t]});var C=function(t,e){return d(t,e)+4+s.legend_item_tile_width},D=function(t,e){return d(t,e)},F=function(t,e){return d(t,e)-2},X=function(t,e){return d(t,e)-2+s.legend_item_tile_width},M=function(t,e){return f(t,e)+9},R=function(t,e){return f(t,e)-5},k=function(t,e){return f(t,e)+4},E=a.legend.selectAll("."+r.default.legendItem).data(T).enter().append("g");a.setLegendItem(E),E.append("text").text(function(t){return(0,o.isDefined)(s.data_names[t])?s.data_names[t]:t}).each(function(t,e){L(this,t,e)}).style("pointer-events","none").attr("x",b?C:-200).attr("y",b?-200:M),E.append("rect").attr("class",r.default.legendItemEvent).style("fill-opacity","0").attr("x",b?D:-200).attr("y",b?-200:R);var I=a.config.legend_usePoint;if(I){var O=[];E.append(function(t){var e=(0,o.notEmpty)(s.point_pattern)?s.point_pattern:[s.point_type];-1===O.indexOf(t)&&O.push(t);var i=e[O.indexOf(t)%e.length];return"rectangle"===i&&(i="rect"),document.createElementNS(n.namespaces.svg,a.hasValidPointType(i)?i:"use")}).attr("class",r.default.legendItemPoint).style("fill",function(t){return a.color(t)}).style("pointer-events","none").attr("href",function(t,e,i){return"use"===i[e].nodeName.toLowerCase()?"#"+a.datetimeId+"-point-"+t:void 0})}else E.append("line").attr("class",r.default.legendItemTile).style("stroke",a.color).style("pointer-events","none").attr("x1",b?F:-200).attr("y1",b?-200:k).attr("x2",b?X:-200).attr("y2",b?-200:k).attr("stroke-width",s.legend_item_tile_height);y=a.legend.select("."+r.default.legendBackground+" rect"),a.isLegendInset&&c>0&&0===y.size()&&(y=a.legend.insert("g","."+r.default.legendItem).attr("class",r.default.legendBackground).append("rect"));var B=a.legend.selectAll("text").data(T).text(function(t){return(0,o.isDefined)(s.data_names[t])?s.data_names[t]:t}).each(function(t,e){L(this,t,e)});(w?B.transition():B).attr("x",C).attr("y",M);var z=a.legend.selectAll("rect."+r.default.legendItemEvent).data(T);if((w?z.transition():z).attr("width",function(t){return p[t]}).attr("height",function(t){return x[t]}).attr("x",D).attr("y",R),I){var P=a.legend.selectAll("."+r.default.legendItemPoint).data(T);(w?P.transition():P).each(function(){var t=this.nodeName.toLowerCase(),e=a.config.point_r,i="x",r="y",o=2,s=2.5,l=void 0,c=void 0,u=void 0;if("circle"===t){var d=.2*e;i="cx",r="cy",l=e+d,o=2*e,s=-d}else if("rect"===t){var f=2.5*e;c=f,u=f,s=3}(0,n.select)(this).attr(i,function(t){return F(t)+o}).attr(r,function(t){return k(t)-s}).attr("r",l).attr("width",c).attr("height",u)})}else{var Y=a.legend.selectAll("line."+r.default.legendItemTile).data(T);(w?Y.transition():Y).style("stroke",a.color).attr("x1",F).attr("y1",k).attr("x2",X).attr("y2",k)}y&&(w?y.transition():y).attr("height",a.getLegendHeight()-12).attr("width",c*(_+1)+10),a.legend.selectAll("."+r.default.legendItem).classed(r.default.legendItemHidden,function(t){return!a.isTargetToShow(t)}),a.updateLegendItemWidth(c),a.updateLegendItemHeight(u),a.updateLegendStep(_),a.updateSizes(),a.updateScales(!w),a.updateSvgSize(),a.transformAll(S,i),a.legendHasRendered=!0}})},function(t,e,i){"use strict";var n,a=i(3),r=(n=a)&&n.__esModule?n:{default:n};(0,i(11).extend)(r.default.prototype,{initTitle:function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},redrawTitle:function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},xForTitle:function(){var t=this,e=t.config,i=e.title_position||"left";return i.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title,t.CLASS.title,t.title).width-e.title_padding.right:i.indexOf("center")>=0?(t.currentWidth-t.getTextRect(t.title,t.CLASS.title,t.title).width)/2:e.title_padding.left},yForTitle:function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title,t.CLASS.title,t.title).height},getTitlePadding:function(){return this.yForTitle()+this.config.title_padding.bottom}})},function(t,e,i){"use strict";var n,a=i(3),r=(n=a)&&n.__esModule?n:{default:n};(0,i(11).extend)(r.default.prototype,{getClipPath:function(t){var e=this.config;return!e.clipPath&&/-clip$/.test(t)||!e.axis_x_clipPath&&/-clip-xaxis$/.test(t)||!e.axis_y_clipPath&&/-clip-yaxis$/.test(t)?null:"url("+(window.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+t+")"},appendClip:function(t,e){return t.append("clipPath").attr("id",e).append("rect")},getAxisClipX:function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},getAxisClipY:function(t){return t?-20:-this.margin.top},getXAxisClipX:function(){return this.getAxisClipX(!this.config.axis_rotated)},getXAxisClipY:function(){return this.getAxisClipY(!this.config.axis_rotated)},getYAxisClipX:function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},getYAxisClipY:function(){return this.getAxisClipY(this.config.axis_rotated)},getAxisClipWidth:function(t){var e=Math.max(30,this.margin.left),i=Math.max(30,this.margin.right);return t?this.width+2+e+i:this.margin.left+20},getAxisClipHeight:function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},getXAxisClipWidth:function(){return this.getAxisClipWidth(!this.config.axis_rotated)},getXAxisClipHeight:function(){return this.getAxisClipHeight(!this.config.axis_rotated)},getYAxisClipWidth:function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},getYAxisClipHeight:function(){return this.getAxisClipHeight(this.config.axis_rotated)}})},function(t,e,i){"use strict";var n=i(5),a=s(i(3)),r=s(i(14)),o=i(11);function s(t){return t&&t.__esModule?t:{default:t}}(0,o.extend)(a.default.prototype,{initRegion:function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",r.default.regions)},updateRegion:function(t){var e=this,i=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+r.default.regions).selectAll("."+r.default.region).data(i.regions),e.mainRegion.exit().transition().duration(t).style("opacity","0").remove(),e.mainRegion=e.mainRegion.enter().append("g").merge(e.mainRegion).attr("class",e.classRegion.bind(e)),e.mainRegion.append("rect").style("fill-opacity","0")},redrawRegion:function(t){var e=this,i=e.mainRegion.select("rect");return i=(t?i.transition():i).attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)),[(t?i.transition():i).style("fill-opacity",function(t){return(0,o.isValue)(t.opacity)?t.opacity:"0.1"}).on("end",function(){(0,n.select)(this.parentNode).selectAll("rect:not([x])").remove()})]},getRegionXY:function(t,e){var i=this,n=i.config.axis_rotated,a="x"===t,r="start",o=0;return"y"===e.axis||"y2"===e.axis?(!a&&(r="end"),(a?n:!n)&&r in e&&(o=(0,i[e.axis])(e[r]))):(a?!n:n)&&r in e&&(o=(i.zoomScale||i.x)(i.isTimeSeries()?i.parseDate(e[r]):e[r])),o},regionX:function(t){return this.getRegionXY("x",t)},regionY:function(t){return this.getRegionXY("y",t)},getRegionSize:function(t,e){var i=this,n=i.config.axis_rotated,a="width"===t,r=i[a?"regionX":"regionY"](e),o="end",s=i[t];return"y"===e.axis||"y2"===e.axis?(!a&&(o="start"),(a?n:!n)&&o in e&&(s=(0,i[e.axis])(e[o]))):(a?!n:n)&&o in e&&(s=(i.zoomScale||i.x)(i.isTimeSeries()?i.parseDate(e[o]):e[o])),s<r?0:s-r},regionWidth:function(t){return this.getRegionSize("width",t)},regionHeight:function(t){return this.getRegionSize("height",t)},isRegionOnX:function(t){return!t.axis||"x"===t.axis}})},function(t,e,i){"use strict";var n=i(5),a=s(i(3)),r=s(i(14)),o=i(11);function s(t){return t&&t.__esModule?t:{default:t}}(0,o.extend)(a.default.prototype,{drag:function(t){var e=this,i=e.config,a=e.main;if(!e.hasArcType()&&i.data_selection_enabled&&(!i.zoom_enabled||e.zoom.altDomain)&&i.data_selection_multiple){var s=e.dragStart,l=s[0],c=s[1],u=t[0],d=t[1],f=Math.min(l,u),g=Math.max(l,u),h=i.data_selection_grouped?e.margin.top:Math.min(c,d),p=i.data_selection_grouped?e.height:Math.max(c,d);a.select("."+r.default.dragarea).attr("x",f).attr("y",h).attr("width",g-f).attr("height",p-h),a.selectAll("."+r.default.shapes).selectAll("."+r.default.shape).filter(function(t){return i.data_selection_isselectable(t)}).each(function(t,i){var a=(0,n.select)(this),s=a.classed(r.default.SELECTED),l=a.classed(r.default.INCLUDED),c=void 0,u=void 0,d=void 0,x=void 0,v=void 0,m=!1,_=void 0;if(a.classed(r.default.circle))c=1*a.attr("cx"),u=1*a.attr("cy"),v=e.togglePoint,m=f<c&&c<g&&h<u&&u<p;else{if(!a.classed(r.default.bar))return;c=(_=(0,o.getPathBox)(this)).x,u=_.y,d=_.width,x=_.height,v=e.togglePath,m=!(g<c||c+d<f||p<u||u+x<h)}m^l&&(a.classed(r.default.INCLUDED,!l),a.classed(r.default.SELECTED,!s),v.call(e,!s,a,t,i))})}},dragstart:function(t){var e=this,i=e.config;e.hasArcType()||!i.data_selection_enabled||(e.dragStart=t,e.main.select("."+r.default.chart).append("rect").attr("class",r.default.dragarea).style("opacity","0.1"),e.setDragStatus(!0))},dragend:function(){var t=this,e=t.config;t.hasArcType()||!e.data_selection_enabled||(t.main.select("."+r.default.dragarea).transition().duration(100).style("opacity","0").remove(),t.main.selectAll("."+r.default.shape).classed(r.default.INCLUDED,!1),t.setDragStatus(!1))},setDragStatus:function(t){this.dragging=t}})},function(t,e,i){"use strict";var n=i(5),a=i(49),r=l(i(3)),o=l(i(14)),s=i(11);function l(t){return t&&t.__esModule?t:{default:t}}(0,s.extend)(r.default.prototype,{selectPoint:function(t,e,i){var n=this,a=n.config,r=a.axis_rotated,l=(r?n.circleY:n.circleX).bind(n),c=(r?n.circleX:n.circleY).bind(n),u=n.pointSelectR.bind(n);(0,s.callFn)(a.data_onselected,n.api,e,t.node()),n.main.select("."+o.default.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+o.default.selectedCircle+"-"+i).data([e]).enter().append("circle").attr("class",function(){return n.generateClass(o.default.selectedCircle,i)}).attr("cx",l).attr("cy",c).attr("stroke",function(){return n.color(e)}).attr("r",function(t){return 1.4*n.pointSelectR(t)}).transition().duration(100).attr("r",u)},unselectPoint:function(t,e,i){(0,s.callFn)(this.config.data_onunselected,this.api,e,t.node()),this.main.select("."+o.default.selectedCircles+this.getTargetSelectorSuffix(e.id)).selectAll("."+o.default.selectedCircle+"-"+i).transition().duration(100).attr("r",0).remove()},togglePoint:function(t,e,i,n){this[(t?"":"un")+"selectPoint"](e,i,n)},selectPath:function(t,e){var i=this,n=i.config;(0,s.callFn)(n.data_onselected,i,e,t.node()),n.interaction_brighten&&t.transition().duration(100).style("fill",function(){return(0,a.rgb)(i.color(e)).brighter(.75)})},unselectPath:function(t,e){var i=this,n=i.config;(0,s.callFn)(n.data_onunselected,i,e,t.node()),n.interaction_brighten&&t.transition().duration(100).style("fill",function(){return i.color(e)})},togglePath:function(t,e,i,n){this[(t?"":"un")+"selectPath"](e,i,n)},getToggle:function(t,e){return"path"===t.nodeName?this.togglePath:this.isStepType(e)?function(){}:this.togglePoint},toggleShape:function(t,e,i){var a=this,r=a.config,s=(0,n.select)(t),l=s.classed(o.default.SELECTED),c=a.getToggle(t,e).bind(a),u=void 0;if(r.data_selection_enabled&&r.data_selection_isselectable(e)){if(!r.data_selection_multiple){var d="."+o.default.shapes;r.data_selection_grouped&&(d+=a.getTargetSelectorSuffix(e.id)),a.main.selectAll(d).selectAll("."+o.default.shape).each(function(t,e){var i=(0,n.select)(this);i.classed(o.default.SELECTED)&&(u=i,c(!1,i.classed(o.default.SELECTED,!1),t,e))})}u&&u.node()===s.node()||(s.classed(o.default.SELECTED,!l),c(!l,s,e,i))}}})},function(t,e){t.exports=d},function(t,e,i){"use strict";var n=i(5),a=i(13),r=l(i(3)),o=l(i(14)),s=i(11);function l(t){return t&&t.__esModule?t:{default:t}}(0,s.extend)(r.default.prototype,{initBrush:function(){var t=this;t.brush=t.config.axis_rotated?(0,a.brushY)():(0,a.brushX)();var e=function(){t.redrawForBrush()};t.brush.on("start",function(){"touch"===t.inputType&&t.hideTooltip(),e()}).on("brush",e),t.brush.update=function(){return 0===this.extent()()[1].filter(function(t){return isNaN(t)}).length&&t.context&&t.context.select("."+o.default.brush).call(this),this},t.brush.scale=function(e,i){var n=t.svg.select(".bb-brush .overlay"),a=[[0,0]];e.range?a.push([e.range()[1],(i||!n.empty())&&~~n.attr("height")||60]):e.constructor===Array&&a.push(e),t.config.axis_rotated&&a.reverse(),this.extent(t.config.axis_x_extent||a),this.update()},t.brush.getSelection=function(){return t.context?t.context.select("."+o.default.brush):(0,n.select)([])}},initSubchart:function(){var t=this,e=t.config,i=e.subchart_show?"visible":"hidden";t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));var n=t.context;n.style("visibility",i),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",o.default.chart),n.select("."+o.default.chart).append("g").attr("class",o.default.chartBars),n.select("."+o.default.chart).append("g").attr("class",o.default.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",o.default.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",o.default.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?i:"hidden")},updateTargetsForSubchart:function(t){var e=this,i=e.context,n=e.config,a=e.classChartBar.bind(e),r=e.classBars.bind(e),s=e.classChartLine.bind(e),l=e.classLines.bind(e),c=e.classAreas.bind(e);if(n.subchart_show){var u=i.select("."+o.default.chartBars).selectAll("."+o.default.chartBar).data(t).attr("class",a);u.enter().append("g").style("opacity","0").attr("class",a).merge(u).append("g").attr("class",r);var d=i.select("."+o.default.chartLines).selectAll("."+o.default.chartLine).data(t).attr("class",s),f=d.enter().append("g").style("opacity","0").attr("class",s).merge(d);f.append("g").attr("class",l),f.append("g").attr("class",c),i.selectAll("."+o.default.brush+" rect").attr(n.axis_rotated?"width":"height",n.axis_rotated?e.width2:e.height2)}},updateBarForSubchart:function(t){var e=this;e.contextBar=e.context.selectAll("."+o.default.bars).selectAll("."+o.default.bar).data(e.barData.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity","0").remove(),e.contextBar=e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color).merge(e.contextBar).style("opacity",e.initialOpacity.bind(e))},redrawBarForSubchart:function(t,e,i){(e?this.contextBar.transition(Math.random().toString()).duration(i):this.contextBar).attr("d",t).style("opacity","1")},updateLineForSubchart:function(t){var e=this;e.contextLine=e.context.selectAll("."+o.default.lines).selectAll("."+o.default.line).data(e.lineData.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity","0").remove(),e.contextLine=e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color).merge(e.contextLine).style("opacity",e.initialOpacity.bind(e))},redrawLineForSubchart:function(t,e,i){(e?this.contextLine.transition(Math.random().toString()).duration(i):this.contextLine).attr("d",t).style("opacity","1")},updateAreaForSubchart:function(t){var e=this;e.contextArea=e.context.selectAll("."+o.default.areas).selectAll("."+o.default.area).data(e.lineData.bind(e)),e.contextArea.exit().transition().duration(t).style("opacity","0").remove(),e.contextArea=e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=(0,n.select)(this).style("opacity"),"0"}).merge(e.contextArea).style("opacity","0")},redrawAreaForSubchart:function(t,e,i){(e?this.contextArea.transition(Math.random().toString()).duration(i):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},redrawSubchart:function(t,e,i,a,r,o,l){var c=this,u=c.config;if(c.context.style("visibility",u.subchart_show?"visible":"hidden"),u.subchart_show&&(n.event&&"zoom"===n.event.type&&c.brush.update(),t)){(0,s.brushEmpty)(c)||c.brush.update();var d=c.generateDrawArea(r,!0),f=c.generateDrawBar(o,!0),g=c.generateDrawLine(l,!0);c.updateBarForSubchart(i),c.updateLineForSubchart(i),c.updateAreaForSubchart(i),c.redrawBarForSubchart(f,i,i),c.redrawLineForSubchart(g,i,i),c.redrawAreaForSubchart(d,i,i)}},redrawForBrush:function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},transformContext:function(t,e){var i=void 0;e&&e.axisSubX?i=e.axisSubX:(i=this.context.select("."+o.default.axisX),t&&(i=i.transition())),this.context.attr("transform",this.getTranslate("context")),i.attr("transform",this.getTranslate("subx"))},getDefaultExtent:function(){var t=this,e=t.config,i=(0,s.isFunction)(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(i=[t.parseDate(i[0]),t.parseDate(i[1])]),i}})},function(t,e,i){"use strict";var n=i(6),a=i(5),r=i(28),o=i(52),s=u(i(3)),l=u(i(14)),c=i(11);function u(t){return t&&t.__esModule?t:{default:t}}(0,c.extend)(s.default.prototype,{initZoom:function(){this.zoomScale=null,this.generateZoom()},bindZoomEvent:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this,i=e.config.zoom_enabled;e.redrawEventRect(),i&&t?e.bindZoomOnEventRect(i.type):!1===t&&(e.api.unzoom(),e.main.select("."+l.default.eventRects).on(".zoom",null).on(".drag",null))},generateZoom:function(){var t=this,e=t.config,i=(0,o.zoom)().duration(0).on("start",t.onZoomStart.bind(t)).on("zoom",t.onZoom.bind(t)).on("end",t.onZoomEnd.bind(t));i.orgScaleExtent=function(){var i=e.zoom_extent||[1,10];return[i[0],Math.max(t.getMaxDataCount()/i[1],i[1])]},i.updateScaleExtent=function(){var e=(0,c.diffDomain)(t.x.orgDomain())/(0,c.diffDomain)(t.getZoomDomain()),i=this.orgScaleExtent();return this.scaleExtent([i[0]*e,i[1]*e]),this},i.updateTransformScale=function(i){var n=i.rescaleX(t.subX.orgScale()),a=t.trimXDomain(n.domain()),r=e.zoom_rescale;n.domain(a,t.orgXDomain),t.zoomScale=t.getCustomizedScale(n),t.xAxis.scale(t.zoomScale),r&&t.x.domain(t.zoomScale.orgDomain())},t.zoom=i},onZoomStart:function(){var t=this,e=a.event.sourceEvent;t.zoom.altDomain=e.altKey?t.x.orgDomain():null,t.zoom.startEvent=e,(0,c.callFn)(t.config.zoom_onzoomstart,t.api,e)},onZoom:function(){var t=this,e=t.config,i=a.event;if(e.zoom_enabled){var n="mousemove"===i.sourceEvent.type,r=i.transform;return t.zoom.updateTransformScale(r),0===t.filterTargetsToShow(t.data.targets).length?void 0:n&&t.zoom.altDomain?(t.x.domain(t.zoom.altDomain),void r.scale(t.zoomScale).updateScaleExtent()):(t.isCategorized()&&t.x.orgDomain()[0]===t.orgXDomain[0]&&t.x.domain([t.orgXDomain[0]-1e-10,t.x.orgDomain()[1]]),t.redraw({withTransition:!1,withY:e.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),t.cancelClick=n,void(0,c.callFn)(e.zoom_onzoom,t.api,t.subX.domain()))}},onZoomEnd:function(){var t=this,e=t.zoom.startEvent;event&&e.clientX===event.clientX&&e.clientY===event.clientY||(t.redrawEventRect(),t.updateZoom(),(0,c.callFn)(t.config.zoom_onzoomend,t.api,t.subX.domain()))},getZoomDomain:function(){var t=this.config;return[(0,n.min)([this.orgXDomain[0],t.zoom_x_min]),(0,n.max)([this.orgXDomain[1],t.zoom_x_max])]},updateZoom:function(){var t=this;if(t.zoomScale){var e=t.zoomScale.domain(),i=t.subX.domain();(e[0]<=i[0]||e[0]-.015<=i[0])&&(i[1]<=e[1]||i[1]<=e[1]-.015)&&(t.xAxis.scale(t.subX),t.x.domain(t.subX.orgDomain()),t.zoomScale=null)}},bindZoomOnEventRect:function(t){var e="drag"===t?this.zoomBehaviour:this.zoom;this.main.select("."+l.default.eventRects).call(e).on("dblclick.zoom",null)},initZoomBehaviour:function(){var t=this,e=t.config.axis_rotated,i=0,n=0,o=null;t.zoomBehaviour=(0,r.drag)().clickDistance(4).on("start",function(){t.setDragStatus(!0),o||(o=t.main.append("rect").attr("clip-path",t.clipPath).attr("class",l.default.zoomBrush).attr("width",e?t.width:0).attr("height",e?0:t.height)),i=(0,a.mouse)(this)[0],n=i,o.attr("x",i).attr("width",0),t.onZoomStart()}).on("drag",function(){n=(0,a.mouse)(this)[0],o.attr("x",Math.min(i,n)).attr("width",Math.abs(n-i))}).on("end",function(){var e,r=t.zoomScale||t.x;if(t.setDragStatus(!1),o.attr("x",0).attr("width",0),i>n&&(i=(e=[n,i])[0],n=e[1]),i<0&&(n+=Math.abs(i),i=0),i!==n)t.api.zoom([i,n].map(function(t){return r.invert(t)})),t.onZoomEnd();else if(t.isMultipleX())t.clickHandlerForMultipleXS.bind(this)(t);else{var s=a.event.sourceEvent||a.event,l="clientX"in s?[s.clientX,s.clientY]:[s.x,s.y],c=l[0],u=l[1],d=document.elementFromPoint(c,u);t.clickHandlerForSingleX.bind(d)((0,a.select)(d).datum(),t)}})},setZoomResetButton:function(){var t=this,e=t.config,i=e.zoom_resetButton;i&&"drag"===e.zoom_enabled.type&&(t.zoom.resetBtn?t.zoom.resetBtn.style("display",null):t.zoom.resetBtn=t.selectChart.append("div").classed(l.default.button,!0).append("span").on("click",t.api.unzoom.bind(t)).classed(l.default.buttonZoomReset,!0).text(i.text||"Reset Zoom"))}})},function(t,e){t.exports=f},function(t,e,i){"use strict";var n=i(5),a=i(10),r=l(i(3)),o=l(i(14)),s=i(11);function l(t){return t&&t.__esModule?t:{default:t}}var c=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];(0,s.extend)(r.default.prototype,{getColorFromCss:function(){var t=document.body,e=t.__colorPattern__;if(!e){var i=document.createElement("span");i.className=o.default.colorPattern,i.style.display="none",t.appendChild(i);var n=window.getComputedStyle(i).backgroundImage;i.parentNode.removeChild(i),n.indexOf(";")>-1&&(e=n.replace(/url[^#]*|["'()]|(\s|%20)/g,"").split(";").map(function(t){return t.trim().replace(/[\"'\s]/g,"")}).filter(Boolean),t.__colorPattern__=e)}return e},generateColor:function(){var t=this,e=t.config,i=e.data_colors,r=e.data_color,o=[],l=(0,s.notEmpty)(e.color_pattern)?e.color_pattern:(0,a.scaleOrdinal)(t.getColorFromCss()||c).range(),u=l;if((0,s.isFunction)(e.color_tiles)){var d=e.color_tiles(),f=l.map(function(e,i){var a=e.replace(/[#\(\)\s,]/g,""),r=t.datetimeId+"-pattern-"+a+"-"+i;return function(t,e,i){var a=(0,n.select)(t.cloneNode(!0));return a.attr("id",i).insert("rect",":first-child").attr("width",a.attr("width")).attr("height",a.attr("height")).style("fill",e),{id:i,node:a.node()}}(d[i%d.length],e,r)});l=f.map(function(t){return"url(#"+t.id+")"}),t.patterns=f}return function(e){var n=e.id||e.data&&e.data.id||e,a=t.isTypeOf(n,["line","spline","step"])||!t.config.data_types[n],c=void 0;return(0,s.isFunction)(i[n])?c=i[n](e):i[n]?c=i[n]:(o.indexOf(n)<0&&o.push(n),c=a?u[o.indexOf(n)%u.length]:l[o.indexOf(n)%l.length],i[n]=c),(0,s.isFunction)(r)?r(c,e):c}},generateLevelColor:function(){var t=this.config,e=t.color_pattern,i=t.color_threshold,n="value"===i.unit,a=i.max||100,r=i.values&&i.values.length?i.values:[];return(0,s.notEmpty)(i)?function(t){for(var i=e[e.length-1],o=0;o<r.length;o++)if((n?t:100*t/a)<r[o]){i=e[o];break}return i}:null}})},function(t,e,i){"use strict";var n,a=i(3),r=(n=a)&&n.__esModule?n:{default:n},o=i(11);var s=function(t,e,i){var n=t.config,a="axis_"+e+"_tick_format";return(n[a]?n[a]:t.defaultValueFormat)(i)};(0,o.extend)(r.default.prototype,{getYFormat:function(t){var e=this,i=e.yFormat,n=e.y2Format;return t&&!e.hasType("gauge")&&(i=e.defaultArcValueFormat,n=e.defaultArcValueFormat),function(t,a,r){return("y2"===e.axis.getId(r)?n:i).call(e,t,a)}},yFormat:function(t){return s(this,"y",t)},y2Format:function(t){return s(this,"y2",t)},defaultValueFormat:function(t){return(0,o.isValue)(t)?+t:""},defaultArcValueFormat:function(t,e){return(100*e).toFixed(1)+"%"},dataLabelFormat:function(t){var e=this.config.data_labels,i=function(t){return(0,o.isValue)(t)?+t:""},n=i;return(0,o.isFunction)(e.format)?n=e.format:(0,o.isObjectType)(e.format)&&(n=e.format[t]?!0===e.format[t]?i:e.format[t]:function(){return""}),n}})},function(t,e,i){"use strict";var n,a=i(3),r=(n=a)&&n.__esModule?n:{default:n};(0,i(11).extend)(r.default.prototype,{hasCaches:function(t){if(!!(arguments.length>1&&void 0!==arguments[1])&&arguments[1]){for(var e=0,i=t.length;e<i;e++)if(!(t[e]in this.cache))return!1;return!0}return t in this.cache},addCache:function(t,e){var i=!!(arguments.length>2&&void 0!==arguments[2])&&arguments[2];this.cache[t]=i?this.cloneTarget(e):e},getCache:function(t){if(!!(arguments.length>1&&void 0!==arguments[1])&&arguments[1]){for(var e,i=[],n=0;e=t[n];n++)e in this.cache&&i.push(this.cloneTarget(this.cache[e]));return i}return this.cache[t]||null},resetCache:function(t){for(var e in this.cache)(t||/^\$/.test(e))&&(this.cache[e]=null)}})},function(t,e,i){"use strict";var n=r(i(3)),a=r(i(14));function r(t){return t&&t.__esModule?t:{default:t}}(0,i(11).extend)(n.default.prototype,{CLASS:a.default,generateClass:function(t,e){return" "+t+" "+(t+this.getTargetSelectorSuffix(e))},classText:function(t){return this.generateClass(a.default.text,t.index)},classTexts:function(t){return this.generateClass(a.default.texts,t.id)},classShape:function(t){return this.generateClass(a.default.shape,t.index)},classShapes:function(t){return this.generateClass(a.default.shapes,t.id)},generateExtraLineClass:function(){var t=this.config.line_classes||[],e=[];return function(i){var n=i.id||i.data&&i.data.id||i;return e.indexOf(n)<0&&e.push(n),t[e.indexOf(n)%t.length]}},classLine:function(t){return this.classShape(t)+this.generateClass(a.default.line,t.id)},classLines:function(t){return this.classShapes(t)+this.generateClass(a.default.lines,t.id)},classCircle:function(t){return this.classShape(t)+this.generateClass(a.default.circle,t.index)},classCircles:function(t){return this.classShapes(t)+this.generateClass(a.default.circles,t.id)},classBar:function(t){return this.classShape(t)+this.generateClass(a.default.bar,t.index)},classBars:function(t){return this.classShapes(t)+this.generateClass(a.default.bars,t.id)},classArc:function(t){return this.classShape(t.data)+this.generateClass(a.default.arc,t.data.id)},classArcs:function(t){return this.classShapes(t.data)+this.generateClass(a.default.arcs,t.data.id)},classArea:function(t){return this.classShape(t)+this.generateClass(a.default.area,t.id)},classAreas:function(t){return this.classShapes(t)+this.generateClass(a.default.areas,t.id)},classRegion:function(t,e){return this.generateClass(a.default.region,e)+" "+("class"in t?t.class:"")},classEvent:function(t){return this.generateClass(a.default.eventRect,t.index)},classTarget:function(t){var e=this.config.data_classes[t],i="";return e&&(i=" "+a.default.target+"-"+e),this.generateClass(a.default.target,t)+i},classFocus:function(t){return this.classFocused(t)+this.classDefocused(t)},classFocused:function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?a.default.focused:"")},classDefocused:function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?a.default.defocused:"")},classChartText:function(t){return a.default.chartText+this.classTarget(t.id)},classChartLine:function(t){return a.default.chartLine+this.classTarget(t.id)},classChartBar:function(t){return a.default.chartBar+this.classTarget(t.id)},classChartArc:function(t){return a.default.chartArc+this.classTarget(t.data.id)},classChartRadar:function(t){return a.default.chartRadar+this.classTarget(t.id)},getTargetSelectorSuffix:function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},selectorTarget:function(t,e){return(e||"")+"."+(a.default.target+this.getTargetSelectorSuffix(t))},selectorTargets:function(t,e){var i=this,n=t||[];return n.length?n.map(function(t){return i.selectorTarget(t,e)}):null},selectorLegend:function(t){return"."+(a.default.legendItem+this.getTargetSelectorSuffix(t))},selectorLegends:function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null}})},function(t,e,i){"use strict";var n=i(5),a=o(i(1)),r=o(i(14));function o(t){return t&&t.__esModule?t:{default:t}}(0,i(11).extend)(a.default.prototype,{focus:function(t){var e=this.internal,i=e.mapToTargetIds(t),n=e.svg.selectAll(e.selectorTargets(i.filter(e.isTargetToShow,e)));this.revert(),this.defocus(),n.classed(r.default.focused,!0).classed(r.default.defocused,!1),e.hasArcType()&&e.expandArc(i),e.toggleFocusLegend(i,!0),e.focusedTargetIds=i,e.defocusedTargetIds=e.defocusedTargetIds.filter(function(t){return i.indexOf(t)<0})},defocus:function(t){var e=this.internal,i=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(i.filter(e.isTargetToShow,e))).classed(r.default.focused,!1).classed(r.default.defocused,!0),e.hasArcType()&&e.unexpandArc(i),e.toggleFocusLegend(i,!1),e.focusedTargetIds=e.focusedTargetIds.filter(function(t){return i.indexOf(t)<0}),e.defocusedTargetIds=i},revert:function(t){var e=this.internal,i=e.mapToTargetIds(t);e.svg.selectAll(e.selectorTargets(i)).classed(r.default.focused,!1).classed(r.default.defocused,!1),e.hasArcType()&&e.unexpandArc(i),e.config.legend_show&&(e.showLegend(i.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(i)).filter(function(){return(0,n.select)(this).classed(r.default.legendItemFocused)}).classed(r.default.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]}})},function(t,e,i){"use strict";var n,a=i(1),r=(n=a)&&n.__esModule?n:{default:n};(0,i(11).extend)(r.default.prototype,{show:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.internal,n=i.mapToTargetIds(t);i.removeHiddenTargetIds(n);var a=i.svg.selectAll(i.selectorTargets(n));a.transition().style("opacity","1","important").call(i.endall,function(){a.style("opacity",null).style("opacity","1")}),e.withLegend&&i.showLegend(n),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},hide:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.internal,n=i.mapToTargetIds(t);i.addHiddenTargetIds(n);var a=i.svg.selectAll(i.selectorTargets(n));a.transition().style("opacity","0","important").call(i.endall,function(){a.style("opacity",null).style("opacity","0")}),e.withLegend&&i.hideLegend(n),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},toggle:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.internal,a={show:[],hide:[]};n.mapToTargetIds(t).forEach(function(t){return a[n.isTargetToShow(t)?"hide":"show"].push(t)}),a.show.length&&this.show(a.show,i),a.hide.length&&setTimeout(function(){return e.hide(a.hide,i)},0)}})},function(t,e,i){"use strict";var n,a=i(6),r=i(52),o=i(1),s=(n=o)&&n.__esModule?n:{default:n},l=i(11);var c=function(t){var e=this.internal,i=t,n=void 0;if(e.config.zoom_enabled&&i){if(e.isTimeSeries()&&(i=i.map(function(t){return e.parseDate(t)})),e.config.subchart_show){var a=e.zoomScale||e.x;e.brush.getSelection().call(e.brush.move,[a(i[0]),a(i[1])]),n=i}else e.x.domain(i),e.zoomScale=e.x,e.xAxis.scale(e.zoomScale),n=e.zoomScale.orgDomain();e.redraw({withTransition:!0,withY:e.config.zoom_rescale,withDimension:!1}),e.setZoomResetButton(),(0,l.callFn)(e.config.zoom_onzoom,this,e.x.orgDomain())}else n=e.zoomScale?e.zoomScale.domain():e.x.orgDomain();return n};(0,l.extend)(c,{enable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wheel",e=this.internal,i=e.config,n=t;t&&(n=(0,l.isString)(t)&&/^(drag|wheel)$/.test(t)?{type:t}:t),i.zoom_enabled=n,e.zoom?!1===t&&e.bindZoomEvent(!1):(e.initZoom(),e.initZoomBehaviour(),e.bindZoomEvent()),e.updateAndRedraw()},max:function(t){var e=this.internal,i=e.config;return(0===t||t)&&(i.zoom_x_max=(0,a.max)([e.orgXDomain[1],t])),i.zoom_x_max},min:function(t){var e=this.internal,i=e.config;return(0===t||t)&&(i.zoom_x_min=(0,a.min)([e.orgXDomain[0],t])),i.zoom_x_min},range:function(t){var e=this.zoom;return(0,l.isObject)(t)&&((0,l.isDefined)(t.min)&&e.min(t.min),(0,l.isDefined)(t.max)&&e.max(t.max)),{min:e.min(),max:e.max()}}}),(0,l.extend)(s.default.prototype,{zoom:c,unzoom:function(){var t=this.internal,e=t.config;t.zoomScale&&(e.subchart_show?t.brush.getSelection().call(t.brush.move,null):t.zoom.updateTransformScale(r.zoomIdentity),t.updateZoom(),t.zoom.resetBtn&&t.zoom.resetBtn.style("display","none"),t.redraw({withTransition:!0,withY:e.zoom_rescale}))}})},function(t,e,i){"use strict";var n,a=i(1),r=(n=a)&&n.__esModule?n:{default:n},o=i(11);(0,o.extend)(r.default.prototype,{load:function(t){var e=this.internal,i=e.config;return t.xs&&e.addXs(t.xs),"names"in t&&this.data.names(t.names),"classes"in t&&Object.keys(t.classes).forEach(function(e){i.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(i.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){i.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){i.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds,!0)?void e.load(e.getCache(t.cacheIds,!0),t.done):void("unload"in t&&!1!==t.unload?e.unload(e.mapToTargetIds(!0===t.unload?null:t.unload),function(){return e.loadFromArgs(t)}):e.loadFromArgs(t))},unload:function(t){var e=this.internal,i=t||{};(0,o.isArray)(i)?i={ids:i}:(0,o.isString)(i)&&(i={ids:[i]}),e.unload(e.mapToTargetIds(i.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.done&&i.done()})}})},function(t,e,i){"use strict";var n=i(5),a=i(62),r=i(7),o=u(i(1)),s=u(i(3)),l=i(11),c=u(i(14));function u(t){return t&&t.__esModule?t:{default:t}}(0,l.extend)(o.default.prototype,{flow:function(t){var e=this.internal,i=[],n=e.getMaxDataCount(),a=void 0,r=void 0,o=0,s=0,c=void 0,u=void 0;if(t.json)a=e.convertJsonToData(t.json,t.keys);else if(t.rows)a=e.convertRowsToData(t.rows);else{if(!t.columns)return;a=e.convertColumnsToData(t.columns)}var d=e.convertDataToTargets(a,!0);e.data.targets.forEach(function(t){for(var n=!1,a=0;a<d.length;a++)if(t.id===d[a].id){n=!0,t.values[t.values.length-1]&&(s=t.values[t.values.length-1].index+1),o=d[a].values.length;for(var r=0;r<o;r++)d[a].values[r].index=s+r,e.isTimeSeries()||(d[a].values[r].x=s+r);t.values=t.values.concat(d[a].values),d.splice(a,1);break}n||i.push(t.id)}),e.data.targets.forEach(function(t){for(var n=0;n<i.length;n++)if(t.id===i[n]){s=t.values[t.values.length-1].index+1;for(var a=0;a<o;a++)t.values.push({id:t.id,index:s+a,x:e.isTimeSeries()?e.getOtherTargetX(s+a):s+a,value:null})}}),e.data.targets.length&&d.forEach(function(t){for(var i=[],n=e.data.targets[0].values[0].index;n<s;n++)i.push({id:t.id,index:n,x:e.isTimeSeries()?e.getOtherTargetX(n):n,value:null});t.values.forEach(function(t){t.index+=s,e.isTimeSeries()||(t.x+=s)}),t.values=i.concat(t.values)}),e.data.targets=e.data.targets.concat(d);var f=e.data.targets[0],g=f.values[0];(0,l.isDefined)(t.to)?(o=0,u=e.isTimeSeries()?e.parseDate(t.to):t.to,f.values.forEach(function(t){t.x<u&&o++})):(0,l.isDefined)(t.length)&&(o=t.length),n?1===n&&e.isTimeSeries()&&(c=(f.values[f.values.length-1].x-g.x)/2,r=[new Date(+g.x-c),new Date(+g.x+c)],e.updateXDomain(null,!0,!0,!1,r)):(c=e.isTimeSeries()?f.values.length>1?f.values[f.values.length-1].x-g.x:g.x-e.getXDomain(e.data.targets)[0]:1,r=[g.x-c,g.x],e.updateXDomain(null,!0,!0,!1,r)),e.updateTargets(e.data.targets),e.redraw({flow:{index:g.index,length:o,duration:(0,l.isValue)(t.duration)?t.duration:e.config.transition_duration,done:t.done,orgDataCount:n},withLegend:!0,withTransition:n>1,withTrimXDomain:!1,withUpdateXAxis:!0})}}),(0,l.extend)(s.default.prototype,{generateFlow:function(t){var e=this,i=e.config;return function(){var o=t.targets,s=t.flow,u=t.drawBar,d=t.drawLine,f=t.drawArea,g=t.cx,h=t.cy,p=t.xv,x=t.xForText,v=t.yForText,m=t.duration,_=void 0,y=s.index,b=s.length,T=e.getValueOnIndex(e.data.targets[0].values,y),A=e.getValueOnIndex(e.data.targets[0].values,y+b),w=e.x.domain(),S=s.duration||m,L=s.done||function(){},C=e.generateWait(),D=e.xgrid||(0,n.selectAll)([]),F=e.xgridLines||(0,n.selectAll)([]),X=e.mainRegion||(0,n.selectAll)([]),M=e.mainText||(0,n.selectAll)([]),R=e.mainBar||(0,n.selectAll)([]),k=e.mainLine||(0,n.selectAll)([]),E=e.mainArea||(0,n.selectAll)([]),I=e.mainCircle||(0,n.selectAll)([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,b)});var O=e.updateXDomain(o,!0,!0);e.updateXGrid&&e.updateXGrid(!0),s.orgDataCount?_=1===s.orgDataCount||(T&&T.x)===(A&&A.x)?e.x(w[0])-e.x(O[0]):e.isTimeSeries()?e.x(w[0])-e.x(O[0]):e.x(T.x)-e.x(A.x):1===e.data.targets[0].values.length?e.isTimeSeries()?(T=e.getValueOnIndex(e.data.targets[0].values,0),A=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),_=e.x(T.x)-e.x(A.x)):_=(0,l.diffDomain)(O)/2:_=e.x(w[0])-e.x(O[0]);var B="translate("+_+",0) scale("+(0,l.diffDomain)(w)/(0,l.diffDomain)(O)+",1)";e.hideXGridFocus();var z=(0,r.transition)().ease(a.easeLinear).duration(S);C.add([e.axes.x.transition(z).call(e.xAxis.setTransition(z)),R.transition(z).attr("transform",B),k.transition(z).attr("transform",B),E.transition(z).attr("transform",B),I.transition(z).attr("transform",B),M.transition(z).attr("transform",B),X.filter(e.isRegionOnX).transition(z).attr("transform",B),D.transition(z).attr("transform",B),F.transition(z).attr("transform",B)]),z.call(C,function(){var t=[],n=[],a=[];if(b){for(var r,o=0;o<b;o++)r=y+o,t.push("."+c.default.shape+"-"+r),n.push("."+c.default.text+"-"+r),a.push("."+c.default.eventRect+"-"+r);e.svg.selectAll("."+c.default.shapes).selectAll(t).remove(),e.svg.selectAll("."+c.default.texts).selectAll(n).remove(),e.svg.selectAll("."+c.default.eventRects).selectAll(a).remove(),e.svg.select("."+c.default.xgrid).remove()}if(D.size()&&D.attr("transform",null).attr(e.xgridAttr),F.attr("transform",null),F.select("line").attr("x1",i.axis_rotated?0:p).attr("x2",i.axis_rotated?e.width:p),F.select("text").attr("x",i.axis_rotated?e.width:0).attr("y",p),R.attr("transform",null).attr("d",u),k.attr("transform",null).attr("d",d),E.attr("transform",null).attr("d",f),I.attr("transform",null),e.isCirclePoint())I.attr("cx",g).attr("cy",h);else{I.attr("x",function(t){return g(t)-i.point_r}).attr("y",function(t){return h(t)-i.point_r}).attr("cx",g).attr("cy",h)}M.attr("transform",null).attr("x",x).attr("y",v).style("fill-opacity",e.opacityForText.bind(e)),X.attr("transform",null),X.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),i.interaction_enabled&&e.redrawEventRect(),L(),e.flowing=!1})}}})},function(t,e){t.exports=g},function(t,e,i){"use strict";var n=i(5),a=s(i(1)),r=i(11),o=s(i(14));function s(t){return t&&t.__esModule?t:{default:t}}(0,r.extend)(a.default.prototype,{selected:function(t){var e=this.internal,i=[];return e.main.selectAll("."+(o.default.shapes+e.getTargetSelectorSuffix(t))).selectAll("."+o.default.shape).filter(function(){return(0,n.select)(this).classed(o.default.SELECTED)}).each(function(t){return i.push(t)}),i},select:function(t,e,i){var a=this.internal,s=a.config;s.data_selection_enabled&&a.main.selectAll("."+o.default.shapes).selectAll("."+o.default.shape).each(function(l,c){var u=(0,n.select)(this),d=l.data?l.data.id:l.id,f=a.getToggle(this,l).bind(a),g=s.data_selection_grouped||!t||t.indexOf(d)>=0,h=!e||e.indexOf(c)>=0,p=u.classed(o.default.SELECTED);u.classed(o.default.line)||u.classed(o.default.area)||(g&&h?s.data_selection_isselectable(l)&&!p&&f(!0,u.classed(o.default.SELECTED,!0),l,c):(0,r.isDefined)(i)&&i&&p&&f(!1,u.classed(o.default.SELECTED,!1),l,c))})},unselect:function(t,e){var i=this.internal,a=i.config;a.data_selection_enabled&&i.main.selectAll("."+o.default.shapes).selectAll("."+o.default.shape).each(function(r,s){var l=(0,n.select)(this),c=r.data?r.data.id:r.id,u=i.getToggle(this,r).bind(i),d=a.data_selection_grouped||!t||t.indexOf(c)>=0,f=!e||e.indexOf(s)>=0,g=l.classed(o.default.SELECTED);l.classed(o.default.line)||l.classed(o.default.area)||d&&f&&a.data_selection_isselectable(r)&&g&&u(!1,l.classed(o.default.SELECTED,!1),r,s)})}})},function(t,e,i){"use strict";var n=o(i(1)),a=o(i(3)),r=i(11);function o(t){return t&&t.__esModule?t:{default:t}}(0,r.extend)(n.default.prototype,{transform:function(t,e){var i=this.internal,n=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;i.transformTo(e,t,n)}}),(0,r.extend)(a.default.prototype,{transformTo:function(t,e,i){var n=this,a=!n.hasArcType(),r=i||{withTransitionForAxis:a};r.withTransitionForTransform=!1,n.transiting=!1,n.setTargetType(t,e),n.updateTargets(n.data.targets),n.updateAndRedraw(r)}})},function(t,e,i){"use strict";var n,a=i(1),r=(n=a)&&n.__esModule?n:{default:n},o=i(11);(0,o.extend)(r.default.prototype,{groups:function(t){var e=this.internal,i=e.config;return(0,o.isUndefined)(t)?i.data_groups:(i.data_groups=t,e.redraw(),i.data_groups)}})},function(t,e,i){"use strict";var n,a=i(1),r=(n=a)&&n.__esModule?n:{default:n},o=i(11);var s=function(t){var e=this.internal,i=e.config;return t?(i.grid_x_lines=t,e.redrawWithoutRescale(),i.grid_x_lines):i.grid_x_lines};(0,o.extend)(s,{add:function(t){return this.xgrids(this.internal.config.grid_x_lines.concat(t||[]))},remove:function(t){this.internal.removeGridLines(t,!0)}});var l=function(t){var e=this.internal,i=e.config;return t?(i.grid_y_lines=t,e.redrawWithoutRescale(),i.grid_y_lines):i.grid_y_lines};(0,o.extend)(l,{add:function(t){return this.ygrids(this.internal.config.grid_y_lines.concat(t||[]))},remove:function(t){this.internal.removeGridLines(t,!1)}}),(0,o.extend)(r.default.prototype,{xgrids:s,ygrids:l})},function(t,e,i){"use strict";var n=o(i(1)),a=o(i(14)),r=i(11);function o(t){return t&&t.__esModule?t:{default:t}}var s=function(t){var e=this.internal,i=e.config;return t?(i.regions=t,e.redrawWithoutRescale(),t):i.regions};(0,r.extend)(s,{add:function(t){var e=this.internal,i=e.config;return t?(i.regions=i.regions.concat(t),e.redrawWithoutRescale(),i.regions):i.regions},remove:function(t){var e=this.internal,i=e.config,n=t||{},o=(0,r.getOption)(n,"duration",i.transition_duration),s=(0,r.getOption)(n,"classes",[a.default.region]),l=e.main.select("."+a.default.regions).selectAll(s.map(function(t){return"."+t}));return(o?l.transition().duration(o):l).style("opacity","0").remove(),l=i.regions,Object.keys(n).length?(l=l.filter(function(t){var e=!1;return!t.class||(t.class.split(" ").forEach(function(t){s.indexOf(t)>=0&&(e=!0)}),!e)}),i.regions=l):i.regions=[],l}}),(0,r.extend)(n.default.prototype,{regions:s})},function(t,e,i){"use strict";var n,a=i(1),r=(n=a)&&n.__esModule?n:{default:n},o=i(11);var s=function(t){var e=this.internal.data.targets;return(0,o.isUndefined)(t)?e:e.filter(function(e){return t.indexOf(e.id)>=0})};(0,o.extend)(s,{shown:function(t){return this.internal.filterTargetsToShow(this.data(t))},values:function(t){var e=null;if(t){var i=this.data(t);i&&(0,o.isArray)(i)&&(e=[],i.forEach(function(t){e=e.concat(t.values.map(function(t){return t.value}))}))}return e},names:function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},colors:function(t){return this.internal.updateDataAttributes("colors",t)},axes:function(t){return this.internal.updateDataAttributes("axes",t)}}),(0,o.extend)(r.default.prototype,{data:s})},function(t,e,i){"use strict";var n,a=i(1),r=(n=a)&&n.__esModule?n:{default:n};(0,i(11).extend)(r.default.prototype,{category:function(t,e){var i=this.internal,n=i.config;return arguments.length>1&&(n.axis_x_categories[t]=e,i.redraw()),n.axis_x_categories[t]},categories:function(t){var e=this.internal,i=e.config;return arguments.length?(i.axis_x_categories=t,e.redraw(),i.axis_x_categories):i.axis_x_categories}})},function(t,e,i){"use strict";var n,a=i(1),r=(n=a)&&n.__esModule?n:{default:n};(0,i(11).extend)(r.default.prototype,{color:function(t){return this.internal.color(t)}})},function(t,e,i){"use strict";var n,a=i(1),r=(n=a)&&n.__esModule?n:{default:n};(0,i(11).extend)(r.default.prototype,{x:function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},xs:function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs}})},function(t,e,i){"use strict";var n,a=i(1),r=(n=a)&&n.__esModule?n:{default:n},o=i(11);var s=function(t,e,i){var n=t.config,a="axis_y_"+e,r="axis_y2_"+e;(0,o.isDefined)(i)&&((0,o.isObjectType)(i)?((0,o.isValue)(i.x)&&(n["axis_x_"+e]=i.x),(0,o.isValue)(i.y)&&(n[a]=i.y),(0,o.isValue)(i.y2)&&(n[r]=i.y2)):(n[a]=i,n[r]=i),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}))},l=function(t,e){var i=t.config;return{x:i["axis_x_"+e],y:i["axis_y_"+e],y2:i["axis_y2_"+e]}},c=(0,o.extend)(function(){},{labels:function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(i){e.axis.setLabelText(i,t[i])}),e.axis.updateLabels())},min:function(t){var e=this.internal;return arguments.length?s(e,"min",t):l(e,"min")},max:function(t){var e=this.internal;return arguments.length?s(e,"max",t):l(e,"max")},range:function(t){var e=this.axis;if(!arguments.length)return{max:e.max(),min:e.min()};(0,o.isDefined)(t.max)&&e.max(t.max),(0,o.isDefined)(t.min)&&e.min(t.min)}});(0,o.extend)(r.default.prototype,{axis:c})},function(t,e,i){"use strict";var n,a=i(1),r=(n=a)&&n.__esModule?n:{default:n},o=i(11);var s=(0,o.extend)(function(){},{show:function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},hide:function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})}});(0,o.extend)(r.default.prototype,{legend:s})},function(t,e,i){"use strict";var n,a=i(1),r=(n=a)&&n.__esModule?n:{default:n},o=i(75),s=i(11);(0,s.extend)(r.default.prototype,{resize:function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},flush:function(t){var e=this.internal;e.zoomScale=null,t?e.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withLegend:!0}):e.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},destroy:function(){var t=this,e=this.internal;return(0,s.notEmpty)(e)&&(e.charts.splice(e.charts.indexOf(this),1),(0,s.isDefined)(e.resizeTimeout)&&o.window.clearTimeout(e.resizeTimeout),o.window.removeEventListener("resize",e.resizeFunction),e.selectChart.classed("bb",!1).html(""),Object.keys(this).forEach(function(i){"internal"===i&&Object.keys(e).forEach(function(t){e[t]=null}),t[i]=null,delete t[i]})),null},config:function(t,e,i){var n=this.internal,a=t&&t.replace(/\./g,"_"),r=void 0;return a in n.config&&((0,s.isDefined)(e)?(n.config[a]=e,r=e,i&&this.flush(!0)):r=n.config[a]),r}})},function(t,e,i){"use strict";e.__esModule=!0,e.document=e.window=void 0;var n=i(11),a=(0,n.isDefined)(window)&&window.Math===Math?window:(0,n.isDefined)(self)&&(self.Math===Math?self:Function("return this")()),r=a.document;e.window=a,e.document=r},function(t,e,i){"use strict";var n,a=i(1),r=(n=a)&&n.__esModule?n:{default:n},o=i(11);var s=(0,o.extend)(function(){},{show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.internal,i=void 0,n=void 0;t.mouse&&(n=t.mouse),t.data?e.isMultipleX()?(n=[e.x(t.data.x),e.getYScale(t.data.id)(t.data.value)],i=null):i=(0,o.isValue)(t.data.index)?t.data.index:e.getIndexByX(t.data.x):(0,o.isDefined)(t.x)?i=e.getIndexByX(t.x):(0,o.isDefined)(t.index)&&(i=t.index),("mouse"===e.inputType?["mouseover","mousemove"]:["touchstart"]).forEach(function(t){e.dispatchEvent(t,i,n)})},hide:function(){var t=this.internal;t.hideTooltip(),t.hideXGridFocus(),t.unexpandCircles(),t.unexpandBars()}});(0,o.extend)(r.default.prototype,{tooltip:s})},function(t,e,i){"use strict";var n,a=i(3),r=(n=a)&&n.__esModule?n:{default:n},o=i(11);var s=window.navigator.userAgent;(0,o.extend)(r.default.prototype,{isSafari:function(){return s.indexOf("Safari")>-1&&!this.isChrome()},isChrome:function(){return s.indexOf("Chrome")>-1},isMobile:function(){return s.indexOf("Mobi")>-1}})},function(t,e,i){"use strict";var n,a=i(5),r=i(1),o=(n=r)&&n.__esModule?n:{default:n},s=i(11);var l=function(t){var e=t.getBoundingClientRect(),i=t.cloneNode(!0),n=(0,s.toArray)(document.styleSheets),r=(0,s.getCssRules)(n).filter(function(t){return t.cssText}).map(function(t){return t.cssText});i.setAttribute("xmlns",a.namespaces.xhtml);var o=(new XMLSerializer).serializeToString(i),l=('<svg xmlns="'+a.namespaces.svg+'" width="'+e.width+'" height="'+e.height+'">\n\t\t\t<foreignObject width="100%" height="100%">\n\t\t\t\t<style>'+r.join("\n")+"</style>\n\t\t\t\t"+o+"\n\t\t\t</foreignObject></svg>").replace(/#/g,"%23").replace("/\n/g","%0A");return"data:image/svg+xml;base64,"+btoa(encodeURIComponent(l).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)}))};(0,s.extend)(o.default.prototype,{export:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"image/png",e=arguments[1],i=l(this.element);if((0,s.isFunction)(e)){var n=new Image;n.crosssOrigin="Anonymous",n.onload=function(){var i=document.createElement("canvas"),a=i.getContext("2d");i.width=n.width,i.height=n.height,a.drawImage(n,0,0),i.toBlob(function(t){e(window.URL.createObjectURL(t))},t)},n.src=i}return i}})}])},t.exports=n(i("ibHE"),i("nUlG"),i("/Cyf"),i("l8eG"),i("wbYc"),i("2xJj"),i("BfWa"),i("JD6l"),i("IVJf"),i("aBO9"),i("yw3p"),i("Lwbo"),i("NRFW"),i("rriQ"))}}]);